<!DOCTYPE html><html><head>
      <title>week11_notes</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
      
      

      
      
      
      
      
      

      <style>
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#c5c8c6;background-color:#27292c !important;border:#43484c;border-radius:3px}pre[class*="language-"]{padding:1em}code[class*="language-"] .token.comment,pre[class*="language-"] .token.comment,code[class*="language-"] .token.prolog,pre[class*="language-"] .token.prolog,code[class*="language-"] .token.doctype,pre[class*="language-"] .token.doctype,code[class*="language-"] .token.cdata,pre[class*="language-"] .token.cdata{color:#7C7C7C}code[class*="language-"] .token.punctuation,pre[class*="language-"] .token.punctuation{color:#96CBFE}code[class*="language-"] .namespace,pre[class*="language-"] .namespace{opacity:.7}code[class*="language-"] .token.constant,pre[class*="language-"] .token.constant{color:#99CC99}code[class*="language-"] .token.boolean,pre[class*="language-"] .token.boolean,code[class*="language-"] .token.number,pre[class*="language-"] .token.number,code[class*="language-"] .token.function-name,pre[class*="language-"] .token.function-name{color:#FF73FD}code[class*="language-"] .token.tag,pre[class*="language-"] .token.tag{color:#96CBFE}code[class*="language-"] .token.selector,pre[class*="language-"] .token.selector{color:#96CBFE}code[class*="language-"] .token.attr-name,pre[class*="language-"] .token.attr-name{color:#C6C5FE}code[class*="language-"] .token.string,pre[class*="language-"] .token.string{color:#A8FF60}code[class*="language-"] .token.char,pre[class*="language-"] .token.char{color:#FF8000}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{color:#FFD2A7}code[class*="language-"] .token.url,pre[class*="language-"] .token.url{color:#7C7C7C}code[class*="language-"] .token.operator,pre[class*="language-"] .token.operator{color:#EDEDED}code[class*="language-"] .token.atrule,pre[class*="language-"] .token.atrule,code[class*="language-"] .token.attr-value,pre[class*="language-"] .token.attr-value,code[class*="language-"] .token.keyword,pre[class*="language-"] .token.keyword{color:#CFCB90}code[class*="language-"] .token.function,pre[class*="language-"] .token.function{color:#FFD2A7}code[class*="language-"] .token.class-name,pre[class*="language-"] .token.class-name{color:#FFD2A7}code[class*="language-"] .token.variable,pre[class*="language-"] .token.variable{color:#C6C5FE}code[class*="language-"] .token.regex,pre[class*="language-"] .token.regex,code[class*="language-"] .token.important,pre[class*="language-"] .token.important{color:#E9C062}code[class*="language-"] .token.important,pre[class*="language-"] .token.important,code[class*="language-"] .token.bold,pre[class*="language-"] .token.bold{font-weight:bold}code[class*="language-"] .token.italic,pre[class*="language-"] .token.italic{font-style:italic}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:rgba(153,122,102,0.08);background:linear-gradient(to right, rgba(153,122,102,0.1) 70%, rgba(153,122,102,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:rgba(153,122,102,0.4);color:#f5f2f0;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px white}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#ccc;background-color:#141414;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#fff}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#a3a3a3}html body strong{color:#fff}html body del{color:#a3a3a3}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#a3a3a3;border-left:4px solid #3d3d3d}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#3d3d3d;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#fff}html body table td,html body table th{border:1px solid #3d3d3d;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#fff;background-color:#282828;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#3d3d3d;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#fff;border:1px solid #3d3d3d;border-bottom:2px solid #2e2e2e;padding:2px 4px;background-color:#282828;border-radius:3px}@media print{html body{background-color:#141414}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#fff;page-break-after:avoid}html body blockquote{color:#a3a3a3}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/*.markdown-preview.markdown-preview {
  // modify your style here
  // eg: background-color: blue;  
  background-color: #282A36;
}*/

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="wk11-psuedosnakes-and-polymorphs">Wk11: Psuedosnakes and polymorphs</h1>

<p>This may be enough content for both weeks&#x2026;</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#wk11-psuedosnakes-and-polymorphs">Wk11: Psuedosnakes and polymorphs</a>
<ul>
<li><a href="#todo">Todo</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#putting-it-all-together">Putting it all together</a></li>
<li><a href="#keep-imagining-the-garden-the-snake">Keep imagining: the garden, the snake</a>
<ul>
<li><a href="#summarise-the-game-start-and-loop">Summarise the game start and loop</a></li>
<li><a href="#the-snake-specifically">The snake, specifically</a></li>
<li><a href="#something-i-learned-there">Something I learned there</a></li>
<li><a href="#how-do-i-know-where-my-leader-is-and-was">How do I know where my leader is and was?</a></li>
<li><a href="#knowing-real-location-and-grid-location">Knowing real location and grid location</a></li>
<li><a href="#change-of-grid-square">Change of grid square</a></li>
<li><a href="#frame-rate-independence">Frame rate independence</a></li>
<li><a href="#side-benefits">Side benefits</a></li>
<li><a href="#smart-snake-simple-headparts">smart snake, simple head/parts</a></li>
<li><a href="#simple-snake-smart-headparts">simple snake, smart head/parts</a></li>
</ul>
</li>
<li><a href="#enter-inheritance">Enter Inheritance.</a></li>
<li><a href="#enter-polymorphism-maybe">Enter polymorphism. Maybe.</a>
<ul>
<li><a href="#so-snakebit-polymorphism">So, SnakeBit polymorphism?</a></li>
</ul>
</li>
<li><a href="#interfaces">Interfaces?</a></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="todo">Todo</h2>

<p>Finish A3.</p>
<hr>
<h2 class="mume-header" id="resources">Resources</h2>

<p>Inheritance, Polymorphism:</p>
<ul>
<li>book <a href="book_1/cppgames_chap10.pdf">chap 10 pdf</a></li>
<li><a href="week11_code.html">Week11 Code</a>
<ul>
<li>includes Following Squares code!</li>
<li>Class diagrams are super helpful</li>
</ul>
</li>
</ul>
<hr>
<h2 class="mume-header" id="putting-it-all-together">Putting it all together</h2>

<p>You guys have all the c++ syntax you&#x2019;re going to need now, really. Beyond the details of using classes with matching ancestors in the same collections (polymorphism), the rest is how to apply what you know.</p>
<p>Today I&#x2019;ve suggested some ways to reduce the snake game situation to a manageable bits. I&#x2019;ll mostly use psuedocode.</p>
<blockquote>
<p>Maybe my psuedocode matches your plan, or you have your own variation: the job remaining for you guys is to design and write the classes, structs, functions and variables that make this go.</p>
</blockquote>
<hr>
<h2 class="mume-header" id="keep-imagining-the-garden-the-snake">Keep imagining: the garden, the snake</h2>

<p>Moving an object around and having it eat fruit for points is a pretty easy project. What makes this game a challenge is the articulated, growing snake, but don&#x2019;t get hung up on the code too early!</p>
<blockquote>
<p>Thinking too early or too long about code usually makes things harder.</p>
<ol>
<li>Step back and visualise it, consider game pieces.</li>
<li>Write notes, draw things to devise a plan.</li>
<li>Write your plan in plain english/pseudocode.</li>
</ol>
</blockquote>
<p><img src="assets/week11/board_snake_pieces.png" alt="Snake game board"></p>
<p>Re-describe the problem, write out your current approach, or a whole new one.</p>
<h3 class="mume-header" id="summarise-the-game-start-and-loop">Summarise the game start and loop</h3>

<p>Lets psuedocode the game so we know where the snake bit fits.</p>
<blockquote>
<p><em>Remember: Coding is just listing instructions for handling a situation.</em></p>
</blockquote>
<h4 class="mume-header" id="programs">Programs:</h4>

<p><strong>Start:</strong><br>
<strong>1.</strong> Gathering what we know<br>
<strong>2.</strong> Putting what we know in piles that go together</p>
<p><strong>Loop:</strong><br>
<strong>3.</strong> Get input<br>
<strong>4.</strong> Checking the state of things, adjusting things, checking their effects<br>
<strong>5.</strong> Drawing the new state of things</p>
<h4 class="mume-header" id="our-snake-game">Our Snake game</h4>

<p><strong>Start:</strong><br>
<strong>1.</strong> Gather what we know about Garden and game pieces in it<br>
<strong>2.</strong> Put that data together in objects with properties that make sense</p>
<p><strong>Loop:</strong><br>
<strong>3.</strong> Get input<br>
<strong>3.</strong> Spawn fruit and move the snake. Did the snake hit anything? Outcome?<br>
<strong>4.</strong> Draw the outcome.</p>
<p><strong>See how this reads:</strong></p>
<p>Does it do the trick aside from snake stuff?</p>
<pre data-role="codeBlock" data-info="md" class="language-gfm"><code>Start Program GrowingSnakeEatingFruitInDetentionGarden ----------
    We have some collections:
        A garden is a grid of spaces that can be occupied
        A garden has boundaries, a snake, fruit.
        A snake is a collection of body lengths, one of which is a head that has speed and direction

    While snake lives
        DO SNAKE THINGS
    loop (while snake lives)

    Show snake is dead
    Wait on key press to close program?
    (or offer play again if you like)

End Program GrowingSnakeEatingFruitInDetentionGarden ---------

</code></pre><h3 class="mume-header" id="the-snake-specifically">The snake, specifically</h3>

<p><img src="assets/week11/snake_move_1.png" alt="Snake move 1"><br>
<img src="assets/week11/snake_move_2.png" alt="Snake move 1"><br>
<img src="assets/week11/snake_move_3.png" alt="Snake move 1"><br>
<img src="assets/week11/snake_move_4.png" alt="Snake move 1"></p>
<h4 class="mume-header" id="whats-happening-here">What&#x2019;s happening here?</h4>

<ol>
<li>A head moves, leaving a space.</li>
<li>The next piece of the snake, a body part, moves to fill the spot.</li>
<li>The following piece moves into the gap left by it&#x2019;s predecessor, and so on.</li>
</ol>
<blockquote>
<p><strong>Discovery:</strong> If you know where the piece ahead of you was was before it moved, you simply take their spot and the snake shape will remain.</p>
</blockquote>
<h4 class="mume-header" id="zoom-into-do-snake-things-and-see-whats-happening">Zoom into DO SNAKE THINGS and see what&#x2019;s happening.</h4>

<pre data-role="codeBlock" data-info class="language-"><code>  ...
    If player hits up, left, right or down
        change snake head direction

    Snake head moves a little way, in its direction, through garden space

    If snake head enters a new garden cell 
        If cell is outside boundary
            snake head teleports to opposite boundary
        
        Move first body piece to cell vacated by head
        
        With each successive body piece
          Move each body piece to the cell vacated by its predecessor
        loop

        If cell contains fruit
            Delete fruit
            Add snake segment to cell last occupied by tail
            Gain points
        
        If cell contains snake body part
          Snake is now dead

    end if (snake head new cell)
  ...
</code></pre><h3 class="mume-header" id="something-i-learned-there">Something I learned there</h3>

<p>I learned things from writing that down, which you&#x2019;ve probably experienced before. It&#x2019;s super valuable.</p>
<blockquote>
<p><em>Writing down things you know sometimes reveals things you didn&#x2019;t know you knew.</em></p>
</blockquote>
<p>I learned that everything really starts to happen when the snake <em>head</em> enters a new cell. The action cascades from there.</p>
<h3 class="mume-header" id="how-do-i-know-where-my-leader-is-and-was">How do I know where my leader is and was?</h3>

<p>If the snake pieces want to follow their immediate leader, we&#x2019;ll need to know where each one was <em>before</em> they moved.</p>
<p><strong>Q:</strong> How do we know where something was last frame?<br>
<strong>A:</strong> Ask it.</p>
<blockquote>
<p>If bits are going to tell us their past, <strong>each bit needs to remember where they were one square ago</strong></p>
</blockquote>
<h3 class="mume-header" id="knowing-real-location-and-grid-location">Knowing real location and grid location</h3>

<p>We gained some control of the game speed last week by moving in fractions of a square each frame.</p>
<ul>
<li>We <strong>moved in a real number space</strong> (1.8x, 2.45y)</li>
<li>It was finer than the grid world (1x, 2y).</li>
<li>Like in real life we move chess pieces or snake pieces through real space smoothly to place them on a square.</li>
</ul>
<p>We cast to int last week, chopping off any decimal places. eg:<br>
Over several frames:</p>
<blockquote>
<p>xPos: <strong>1.0, 1.4, 1.8, 2.2, 2.6</strong><br>
xGrid: <strong>1, 1, 1, 2, 2</strong></p>
</blockquote>
<p>It can cause issues. Options to consider: <strong>floor, ceil, round</strong>.</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token comment">// ----- Rounding floats in c++ -------</span>
<span class="token comment">// If we assign a float to an int, 3.9 becomes 3. Truncation.</span>
<span class="token comment">// We need to round up or down.</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">float</span> xGrid <span class="token operator">=</span> <span class="token number">1.4f</span><span class="token punctuation">;</span>
  <span class="token keyword">float</span> yGrid <span class="token operator">=</span> <span class="token number">2.6f</span><span class="token punctuation">;</span>

  <span class="token keyword">int</span> xGrid <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span>xGrid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// round returns a float, eg 3.0, </span>
  <span class="token keyword">int</span> yGrid <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span>yGrid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// so assigning to an int truncates only zeroes</span>

  cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;xGrid = &quot;</span> <span class="token operator">&lt;&lt;</span> xGrid <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, xGrid = &quot;</span> <span class="token operator">&lt;&lt;</span> xGrid <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
  cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;yGrid = &quot;</span> <span class="token operator">&lt;&lt;</span> yGrid <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;, yGrid = &quot;</span> <span class="token operator">&lt;&lt;</span> yGrid <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Outputs:</span>
<span class="token comment">// xGrid = 1.4, xGrid = 1</span>
<span class="token comment">// yGrid = 2.6, yGrid = 3</span>
<span class="token comment">// 2.6 rounded up, 1.4 down.</span>
</pre><h3 class="mume-header" id="change-of-grid-square">Change of grid square</h3>

<p>Trackign xGrid and xGridOld are easy:</p>
<p>cpp code</p>
<p>update {<br>
store position in a variable before we move<br>
xGridOld = xGrid;<br>
move<br>
xGrid += speedPerFrame;<br>
}</p>
<p>how do we also track</p>
<ul>
<li>keep xGridOld and yGridOld (value in previous frame)</li>
<li>test if either differs from current frame value</li>
<li>If changed, we&#x2019;re in a new cell.</li>
</ul>
<h4 class="mume-header" id="write-some-pseudocode-for-a-program-that">Write some pseudocode for a program that:</h4>

<ul>
<li>Starts a pixel at 0</li>
<li>Moves pixel right on screen at 0.1 pixels per frame</li>
<li>if rounding has taken us to a new whole pixel, print a message</li>
</ul>
<hr>
<h3 class="mume-header" id="frame-rate-independence">Frame rate independence</h3>

<blockquote>
<p>We were moving at 1 unit per frame. Our new speed has to be in units per second instead of units per frame.</p>
</blockquote>
<p>If we&#x2019;re traveling in units per second, we need to know how much of a second has passed. That&#x2019;s usually called Delta Time.</p>
<blockquote>
<p>Delta means change, time means time.</p>
</blockquote>
<p>How that looks in psuedo code:</p>
<pre data-role="codeBlock" data-info class="language-"><code>We have:
    A circle with a speed (distance per second)

Every Frame
    Get fraction of a second elapsed since last frame (delta time)
    Multiply circle speed (distance per second) by delta time (eg 2 * 0.01)
    Move that little distance.
    Draw circle centered at nearest whole pixel
Loop Every Frame

</code></pre><p>The end result: we move at n units per second regardless of frame rate.</p>
<h3 class="mume-header" id="side-benefits">Side benefits</h3>

<p>There&#x2019;s another great benefit tho:</p>
<blockquote>
<p>Adjusting movement every frame results in smoother motion.</p>
</blockquote>
<p>Sometimes it&#x2019;s 15 ms since last frame, sometimes 60. If we moved at a set speed-per-frame, <strong>a series of short frames would move us less total distance than a series of long frames.</strong> That&#x2019;s what slow down is in old frame-based games.</p>
<h3 class="mume-header" id="smart-snake-simple-headparts">smart snake, simple head/parts</h3>

<p>Maybe you don&#x2019;t want many classes, game and Snake are enough. Structs for the rest. Snake will do a lot of checking lists.</p>
<pre data-role="codeBlock" data-info class="language-"><code>SmartSnakeObject

Things that are just structs:
    a head with speed, direction
    body parts (each with an assigned leader)
    fruit


each frame while alive: (perhaps via calls from game. snake has no automatic personal update loop like engine does)
    if asked to, store new direction in head
    store head current position
    move head by its speed in direction
    
    with each part in body
        store part&apos;s current position
        move part to its leader&apos;s (head or a part) old position


    check if head is sharing cell with fruit
    if so add body part
    declare/note fruit eaten

    check if head sharing cell with any body part
        if so note am now dead

loop frame while alive

</code></pre><h3 class="mume-header" id="simple-snake-smart-headparts">simple snake, smart head/parts</h3>

<p>Maybe you feel snake is too complicated, and you don&#x2019;t want to remember and edit the data in each struct. Make smart body parts.</p>
<pre data-role="codeBlock" data-info class="language-"><code>SimpleSnakeObject:

we have a head objectwith speed, direction
we have body part objects that know the part/head they are following

each frame while alive:
    if asked to, tell head about new direction
    ask head to move itself

    for each part in body
        ask body part to move itself
    
    Ask head to check if it has eaten fruit (provide fruit in question)
        if so tell world about gone fruit
        add body part

    ask head if it&apos;s bitten any body parts (provide parts)
      If so.. note am now dead.
loop frame while alive

</code></pre><hr>
<h2 class="mume-header" id="enter-inheritance">Enter Inheritance.</h2>

<p>Lets look at attributes of a smart head/body part.</p>
<p><strong>SnakeHead:</strong></p>
<ul>
<li>xGrid</li>
<li>yGrid</li>
<li>direction, speed</li>
<li><em>xGrid, xGridOld</em></li>
<li><em>yGrid, yGridOld</em></li>
<li><em>colour</em></li>
<li><em>move()</em></li>
<li>isEating(fruit)</li>
<li>isBitingAny(parts)</li>
</ul>
<p><strong>SnakeBodyPart</strong></p>
<ul>
<li><strong>leader (head or part)</strong></li>
<li><em>xGrid, xGridOld</em></li>
<li><em>yGrid, yGridOld</em></li>
<li><em>colour</em></li>
<li><em>move()</em></li>
</ul>
<p><strong>Note <em>things in italics</em> were common to both.</strong> Also the thing in bold doesn&#x2019;t differentiate betweenheads and bodyparts. <strong>Are these candidates for inheritance?</strong></p>
<blockquote>
<p>Perhaps both a <code>SnakeHead</code> and a <code>SnakeBodyPart</code> are each a <code>BitOfSnake</code>.</p>
</blockquote>
<blockquote>
<p>Certainly our interchangeable <code>leader</code> could be <code>BitOfSnake leader;</code></p>
</blockquote>
<hr>
<h2 class="mume-header" id="enter-polymorphism-maybe">Enter polymorphism. Maybe.</h2>

<p><strong>When two things have traits in common and can be used interchangeably, that&#x2019;s polymorphism</strong>. They are different types but, for some purposes, effectively the same. Take these library items for example.</p>
<p><strong>Library Items:</strong></p>
<ul>
<li>book</li>
<li>magazine</li>
<li>sample test</li>
</ul>
<blockquote>
<p>All are printed, borrowable items that could be in a collection. You could loop through that collection and check <code>name</code>, <code>isBorrowed</code> or <code>pageCount</code>. That&#x2019;s polymorphism.</p>
</blockquote>
<p>In c++:</p>
<pre data-role="codeBlock" data-info="cpp" class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token operator">:</span> PrintedBorrowableItem
<span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Magazine</span> <span class="token operator">:</span> PrintedBorrowableItem
<span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// and then, in a library sim, a vector can hold anything that inherits</span>
<span class="token comment">// from PrintedBorrowableItem</span>
<span class="token keyword">public</span> vector<span class="token operator">&lt;</span>PrintedBorrowableItem<span class="token operator">&gt;</span> items<span class="token punctuation">;</span>

<span class="token comment">// We can now act on them indiscriminately, so long as we </span>
<span class="token comment">// only use public variables or functions found in their mutual </span>
<span class="token comment">// ancestor, the PrintedBorrowableItem.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Item &quot;</span> <span class="token operator">&lt;&lt;</span> items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;&apos;s borrowed status is &quot;</span> <span class="token operator">&lt;&lt;</span> items<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isBorrowed <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// or using C++11&apos;s equivalent of for each</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>item <span class="token operator">:</span> items<span class="token punctuation">)</span> <span class="token comment">// access by reference to avoid copying</span>
<span class="token punctuation">{</span>  
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Item &quot;</span> <span class="token operator">&lt;&lt;</span> item<span class="token operator">-&gt;</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;&apos;s borrowed status is &quot;</span> <span class="token operator">&lt;&lt;</span> item<span class="token operator">-&gt;</span>isBorrowed <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</pre><h3 class="mume-header" id="so-snakebit-polymorphism">So, SnakeBit polymorphism?</h3>

<p>If our snake is asked to update, sure it has to do some different things with the head, like give it a new direction. But then maybe&#x2026;</p>
<pre data-role="codeBlock" data-info class="language-"><code>  In Snake we have:
    bits, a list consisting of the head and all body parts
    head, a pointer to the head bit
  
  // later in snake
  change head direction or speed (using head pointer)
  
  // and maybe in Snake.move or Snake.update
  for each bit in SnakeBits:
    ask bit to move
    // the head will move using speed and direction, the rest will
    // slide into their leader bit&apos;s abandoned cell

</code></pre><p>And perhaps in our olc derived SnakeGame class&#x2019; render/draw routine:</p>
<pre data-role="codeBlock" data-info class="language-"><code>We have:
  a Snake object

for each bit Snake gives us via GetAllBits
    Draw a square in bit&apos;s colour, at bit&apos;s xGrid, bit&apos;s yGrid.

</code></pre><h2 class="mume-header" id="interfaces">Interfaces?</h2>

<p>Maybe a man and a dog and a log can all <code>float()</code> or <code>holdTheDoor()</code>, but they don&#x2019;t need to share a common ancestor to do it.</p>
<p>Interfaces let you define common functionality without having to inherit from a common ancestor. They&#x2019;re a feature of C++ and many other OO languages.</p>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>