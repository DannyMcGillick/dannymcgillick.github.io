<!DOCTYPE html><html><head>
      <title>week2_notes</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
      
      

      
      
      
      
      
      

      <style>
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#c5c8c6;background-color:#27292c !important;border:#43484c;border-radius:3px}pre[class*="language-"]{padding:1em}code[class*="language-"] .token.comment,pre[class*="language-"] .token.comment,code[class*="language-"] .token.prolog,pre[class*="language-"] .token.prolog,code[class*="language-"] .token.doctype,pre[class*="language-"] .token.doctype,code[class*="language-"] .token.cdata,pre[class*="language-"] .token.cdata{color:#7C7C7C}code[class*="language-"] .token.punctuation,pre[class*="language-"] .token.punctuation{color:#96CBFE}code[class*="language-"] .namespace,pre[class*="language-"] .namespace{opacity:.7}code[class*="language-"] .token.constant,pre[class*="language-"] .token.constant{color:#99CC99}code[class*="language-"] .token.boolean,pre[class*="language-"] .token.boolean,code[class*="language-"] .token.number,pre[class*="language-"] .token.number,code[class*="language-"] .token.function-name,pre[class*="language-"] .token.function-name{color:#FF73FD}code[class*="language-"] .token.tag,pre[class*="language-"] .token.tag{color:#96CBFE}code[class*="language-"] .token.selector,pre[class*="language-"] .token.selector{color:#96CBFE}code[class*="language-"] .token.attr-name,pre[class*="language-"] .token.attr-name{color:#C6C5FE}code[class*="language-"] .token.string,pre[class*="language-"] .token.string{color:#A8FF60}code[class*="language-"] .token.char,pre[class*="language-"] .token.char{color:#FF8000}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{color:#FFD2A7}code[class*="language-"] .token.url,pre[class*="language-"] .token.url{color:#7C7C7C}code[class*="language-"] .token.operator,pre[class*="language-"] .token.operator{color:#EDEDED}code[class*="language-"] .token.atrule,pre[class*="language-"] .token.atrule,code[class*="language-"] .token.attr-value,pre[class*="language-"] .token.attr-value,code[class*="language-"] .token.keyword,pre[class*="language-"] .token.keyword{color:#CFCB90}code[class*="language-"] .token.function,pre[class*="language-"] .token.function{color:#FFD2A7}code[class*="language-"] .token.class-name,pre[class*="language-"] .token.class-name{color:#FFD2A7}code[class*="language-"] .token.variable,pre[class*="language-"] .token.variable{color:#C6C5FE}code[class*="language-"] .token.regex,pre[class*="language-"] .token.regex,code[class*="language-"] .token.important,pre[class*="language-"] .token.important{color:#E9C062}code[class*="language-"] .token.important,pre[class*="language-"] .token.important,code[class*="language-"] .token.bold,pre[class*="language-"] .token.bold{font-weight:bold}code[class*="language-"] .token.italic,pre[class*="language-"] .token.italic{font-style:italic}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:rgba(153,122,102,0.08);background:linear-gradient(to right, rgba(153,122,102,0.1) 70%, rgba(153,122,102,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:rgba(153,122,102,0.4);color:#f5f2f0;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px white}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#ccc;background-color:#141414;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#fff}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#a3a3a3}html body strong{color:#fff}html body del{color:#a3a3a3}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#a3a3a3;border-left:4px solid #3d3d3d}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#3d3d3d;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#fff}html body table td,html body table th{border:1px solid #3d3d3d;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#fff;background-color:#282828;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#3d3d3d;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#fff;border:1px solid #3d3d3d;border-bottom:2px solid #2e2e2e;padding:2px 4px;background-color:#282828;border-radius:3px}@media print{html body{background-color:#141414}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#fff;page-break-after:avoid}html body blockquote{color:#a3a3a3}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="gpr103-week-2-module-12">GPR103 Week 2 (module 1.2)</h1>

<p>Learning to hide the grease, pistons and wires.</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ol>
<li><a href="#GPR103-Week-2-module-12">GPR103 Week 2 (module 1.2)</a>
<ol>
<li><a href="#About-Assignment-1-Part-1">About Assignment 1 Part 1</a></li>
<li><a href="#Exercises-to-do-before-next-class">Exercises to do before next class</a></li>
<li><a href="#Resources">Resources</a></li>
<li><a href="#New-design-pattern-Composition">New design pattern, Composition!</a></li>
<li><a href="#Why-not-just-inheritance">Why not just inheritance?</a>
<ol>
<li><a href="#Inheritance-in-Unity">Inheritance in Unity</a></li>
<li><a href="#Limits-of-Inheritance">Limits of Inheritance</a></li>
</ol>
</li>
<li><a href="#Composition-saves-the-day">Composition saves the day:</a>
<ol>
<li><a href="#Put-your-components-on-GameObjects">Put your components on GameObjects</a></li>
</ol>
</li>
<li><a href="#Making-a-rifle-with-inheritance-and-composition">Making a rifle with inheritance and composition</a>
<ol>
<li><a href="#Inheritance-From-Monobehaviour-to-Rifle-and-Pistol">Inheritance: From Monobehaviour to Rifle and Pistol.</a></li>
<li><a href="#Composition-add-ons">Composition: add ons</a></li>
<li><a href="#Handy-tip-RequireComponent">Handy tip: RequireComponent</a></li>
</ol>
</li>
<li><a href="#Object-oriented-design-principles">Object oriented design principles.</a>
<ol>
<li><a href="#What-is-encapsulation">What is encapsulation?</a>
<ol>
<li><a href="#Goldilocks-factor">Goldilocks factor</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#Encapsulation-in-practice">Encapsulation in practice</a>
<ol>
<li><a href="#Classes-and-Objects-refresher">Classes and Objects refresher</a></li>
<li><a href="#Scope-in-_C_-and-_C_">Scope in <em>C#</em> and <em>C++</em></a></li>
<li><a href="#Access-modifiers">Access modifiers</a></li>
<li><a href="#Using-functions-to-hide-variables">Using functions to hide variables</a></li>
<li><a href="#Access-functions-aka-properties">Access functions aka properties</a></li>
<li><a href="#Creating-Objects-vs-ComponentsMonobehaviours">Creating Objects vs Components/Monobehaviours</a></li>
<li><a href="#Constructors-and-destructors">Constructors and destructors</a></li>
</ol>
</li>
<li><a href="#More-detail-on-Cohesion">More detail on Cohesion</a>
<ol>
<li><a href="#Medium-Cohesion">Medium Cohesion</a></li>
<li><a href="#High-cohesion">High cohesion</a></li>
</ol>
</li>
</ol>
</li>
</ol>
<hr>
<h2 class="mume-header" id="about-assignment-1-part-1">About Assignment 1 Part 1</h2>

<hr>
<h2 class="mume-header" id="exercises-to-do-before-next-class">Exercises to do before next class</h2>

<ol>
<li>conditionals etc up to objects in sololearn.</li>
</ol>
<hr>
<h2 class="mume-header" id="resources">Resources</h2>

<p>Assignment 1 Exercise 1 <a href="a1_exercise1_brief.html">rebrief is here</a>.</p>
<p>Rifle Unity Project: <a href="assets/week2/WeaponAddOns.7z">WeaponAddOns.7z</a></p>
<p>Documentation and Tutes:</p>
<ol>
<li>Finalizers/destructors in <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/destructors">Microsoft&#x2019;s c# documentation</a></li>
<li>Constructors in <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-constructors">Microsoft&#x2019;s docs</a></li>
<li>Creating Properties video in <a href="https://unity3d.com/learn/tutorials/topics/scripting/properties?playlist=17117">official Unity tutorials</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties">Using Properties</a> and <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties">all their syntax</a> in the Microsoft docs.</li>
</ol>
<h2 class="mume-header" id="new-design-pattern-composition">New design pattern, Composition!</h2>

<p>That was probably easier than you expected. It was <strong>easy but also strange</strong> when you think about it.</p>
<ol>
<li>We made a Class/Object and&#x2026;</li>
<li>put on another class already in the scene? It&#x2019;s not like inheritance!</li>
</ol>
<blockquote>
<p>This design pattern is called <strong>composition</strong> and it&#x2019;s less <strong>Rifle is a Gun (inheritance)</strong> and more <strong>Rifle has a Laser Sight and Bayonet</strong>.</p>
</blockquote>
<p><img src="assets/week1/inspector_gameobject.png" alt="inspector components"><br>
<em>Multiple components on TalkySquare not just our Talk script.</em></p>
<hr>
<h2 class="mume-header" id="why-not-just-inheritance">Why not just inheritance?</h2>

<p>We learned inheritance last trimester in c++, and you may have seen it in other languages.</p>
<ul>
<li>Its the <strong>&#x201C;is a&#x201D; relationship</strong>.</li>
<li>Human -&gt; Mammal -&gt; Animal is a classic example</li>
</ul>
<p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: graphname Pages: 1 -->
<svg width="267pt" height="260pt" viewBox="0.00 0.00 267.35 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>graphname</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256 263.351,-256 263.351,4 -4,4"/>
<!-- LivingThing -->
<g id="node1" class="node">
<title>LivingThing</title>
<ellipse fill="none" stroke="#000000" cx="74.8873" cy="-234" rx="59.7147" ry="18"/>
<text text-anchor="middle" x="74.8873" y="-229.8" font-family="Times,serif" font-size="14.00" fill="#000000">LivingThing</text>
</g>
<!-- Plant -->
<g id="node2" class="node">
<title>Plant</title>
<ellipse fill="none" stroke="#000000" cx="30.8873" cy="-162" rx="30.7751" ry="18"/>
<text text-anchor="middle" x="30.8873" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">Plant</text>
</g>
<!-- LivingThing&#45;&gt;Plant -->
<g id="edge1" class="edge">
<title>LivingThing-&gt;Plant</title>
<path fill="none" stroke="#000000" d="M64.0109,-216.2022C58.7653,-207.6186 52.3748,-197.1613 46.6114,-187.7303"/>
<polygon fill="#000000" stroke="#000000" points="49.5367,-185.805 41.3356,-179.0972 43.5637,-189.4551 49.5367,-185.805"/>
</g>
<!-- Animal -->
<g id="node3" class="node">
<title>Animal</title>
<ellipse fill="none" stroke="#000000" cx="119.8873" cy="-162" rx="40.005" ry="18"/>
<text text-anchor="middle" x="119.8873" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">Animal</text>
</g>
<!-- LivingThing&#45;&gt;Animal -->
<g id="edge2" class="edge">
<title>LivingThing-&gt;Animal</title>
<path fill="none" stroke="#000000" d="M86.0109,-216.2022C91.3363,-207.6817 97.8155,-197.315 103.6758,-187.9385"/>
<polygon fill="#000000" stroke="#000000" points="106.7149,-189.6796 109.047,-179.3446 100.7789,-185.9696 106.7149,-189.6796"/>
</g>
<!-- Reptile -->
<g id="node4" class="node">
<title>Reptile</title>
<ellipse fill="none" stroke="#000000" cx="67.8873" cy="-90" rx="38.8594" ry="18"/>
<text text-anchor="middle" x="67.8873" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Reptile</text>
</g>
<!-- Animal&#45;&gt;Reptile -->
<g id="edge3" class="edge">
<title>Animal-&gt;Reptile</title>
<path fill="none" stroke="#000000" d="M107.2996,-144.5708C100.9762,-135.8153 93.1953,-125.0418 86.2221,-115.3867"/>
<polygon fill="#000000" stroke="#000000" points="89.0515,-113.3263 80.3592,-107.2687 83.3767,-117.4247 89.0515,-113.3263"/>
</g>
<!-- Mammal -->
<g id="node5" class="node">
<title>Mammal</title>
<ellipse fill="none" stroke="#000000" cx="170.8873" cy="-90" rx="45.8041" ry="18"/>
<text text-anchor="middle" x="170.8873" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Mammal</text>
</g>
<!-- Animal&#45;&gt;Mammal -->
<g id="edge4" class="edge">
<title>Animal-&gt;Mammal</title>
<path fill="none" stroke="#000000" d="M132.233,-144.5708C138.327,-135.9675 145.8012,-125.4156 152.5478,-115.8911"/>
<polygon fill="#000000" stroke="#000000" points="155.5544,-117.7016 158.4786,-107.5182 149.8423,-113.6554 155.5544,-117.7016"/>
</g>
<!-- Racoon -->
<g id="node6" class="node">
<title>Racoon</title>
<ellipse fill="none" stroke="#000000" cx="121.8873" cy="-18" rx="40.5712" ry="18"/>
<text text-anchor="middle" x="121.8873" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Racoon</text>
</g>
<!-- Mammal&#45;&gt;Racoon -->
<g id="edge5" class="edge">
<title>Mammal-&gt;Racoon</title>
<path fill="none" stroke="#000000" d="M159.0258,-72.5708C153.1274,-63.9038 145.8832,-53.2592 139.3637,-43.6796"/>
<polygon fill="#000000" stroke="#000000" points="142.1594,-41.5666 133.6396,-35.2687 136.3724,-45.505 142.1594,-41.5666"/>
</g>
<!-- Human -->
<g id="node7" class="node">
<title>Human</title>
<ellipse fill="none" stroke="#000000" cx="219.8873" cy="-18" rx="39.4273" ry="18"/>
<text text-anchor="middle" x="219.8873" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Human</text>
</g>
<!-- Mammal&#45;&gt;Human -->
<g id="edge6" class="edge">
<title>Mammal-&gt;Human</title>
<path fill="none" stroke="#000000" d="M182.7489,-72.5708C188.6472,-63.9038 195.8915,-53.2592 202.4109,-43.6796"/>
<polygon fill="#000000" stroke="#000000" points="205.4022,-45.505 208.135,-35.2687 199.6152,-41.5666 205.4022,-45.505"/>
</g>
</g>
</svg>
</p><h3 class="mume-header" id="inheritance-in-unity">Inheritance in Unity</h3>

<p>Our <code>Rifle</code> can still be a <code>Gun</code>, gaining useful things, <strong>c# and Unity are fine with inheritance.</strong></p>
<p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Rifle Pages: 1 -->
<svg width="152pt" height="188pt" viewBox="0.00 0.00 152.39 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>Rifle</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 148.3854,-184 148.3854,4 -4,4"/>
<!-- Weapon -->
<g id="node1" class="node">
<title>Weapon</title>
<ellipse fill="none" stroke="#000000" cx="70.3456" cy="-162" rx="43.4221" ry="18"/>
<text text-anchor="middle" x="70.3456" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">Weapon</text>
</g>
<!-- Gun -->
<g id="node2" class="node">
<title>Gun</title>
<ellipse fill="none" stroke="#000000" cx="70.3456" cy="-90" rx="27.8306" ry="18"/>
<text text-anchor="middle" x="70.3456" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gun</text>
</g>
<!-- Weapon&#45;&gt;Gun -->
<g id="edge1" class="edge">
<title>Weapon-&gt;Gun</title>
<path fill="none" stroke="#000000" d="M70.3456,-143.8314C70.3456,-136.131 70.3456,-126.9743 70.3456,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="73.8457,-118.4132 70.3456,-108.4133 66.8457,-118.4133 73.8457,-118.4132"/>
</g>
<!-- Rifle -->
<g id="node3" class="node">
<title>Rifle</title>
<ellipse fill="none" stroke="#000000" cx="30.3456" cy="-18" rx="30.1919" ry="18"/>
<text text-anchor="middle" x="30.3456" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rifle</text>
</g>
<!-- Gun&#45;&gt;Rifle -->
<g id="edge2" class="edge">
<title>Gun-&gt;Rifle</title>
<path fill="none" stroke="#000000" d="M60.8661,-72.937C56.1041,-64.3654 50.2297,-53.7914 44.9103,-44.2165"/>
<polygon fill="#000000" stroke="#000000" points="47.9509,-42.4825 40.0348,-35.4407 41.8318,-45.882 47.9509,-42.4825"/>
</g>
<!-- Pistol -->
<g id="node4" class="node">
<title>Pistol</title>
<ellipse fill="none" stroke="#000000" cx="111.3456" cy="-18" rx="33.0798" ry="18"/>
<text text-anchor="middle" x="111.3456" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Pistol</text>
</g>
<!-- Gun&#45;&gt;Pistol -->
<g id="edge3" class="edge">
<title>Gun-&gt;Pistol</title>
<path fill="none" stroke="#000000" d="M80.062,-72.937C84.9431,-64.3654 90.9644,-53.7914 96.4167,-44.2165"/>
<polygon fill="#000000" stroke="#000000" points="99.5071,-45.8625 101.4141,-35.4407 93.4242,-42.3986 99.5071,-45.8625"/>
</g>
</g>
</svg>
</p><pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token comment">// The syntax is familiar to c++ users, minus all the header nonsense</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rifle</span> <span class="token punctuation">:</span> <span class="token class-name">Gun</span> <span class="token punctuation">{</span> <span class="token comment">// Rifle is a gun</span>

	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Your inheritance has to start with Monobehaviour if you want to use it in the inspector.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Gun</span> <span class="token punctuation">:</span> <span class="token class-name">MonoBehaviour</span> <span class="token punctuation">{</span> <span class="token comment">// Gun is a component</span>

	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="limits-of-inheritance">Limits of Inheritance</h3>

<p>Thing is, when you add <em>optional</em> things rather than <em>evolving</em>, inheritance gets&#x2026; silly.</p>
<ul>
<li>To equip <strong>multiple options in combination</strong> do you try to inherit from multiple classes?</li>
</ul>
<p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Rifle Pages: 1 -->
<svg width="691pt" height="260pt" viewBox="0.00 0.00 691.38 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>Rifle</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256 687.3762,-256 687.3762,4 -4,4"/>
<!-- Gun -->
<g id="node1" class="node">
<title>Gun</title>
<ellipse fill="none" stroke="#000000" cx="349.715" cy="-234" rx="27.8306" ry="18"/>
<text text-anchor="middle" x="349.715" y="-229.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gun</text>
</g>
<!-- Rifle -->
<g id="node2" class="node">
<title>Rifle</title>
<ellipse fill="none" stroke="#000000" cx="349.715" cy="-162" rx="30.1919" ry="18"/>
<text text-anchor="middle" x="349.715" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rifle</text>
</g>
<!-- Gun&#45;&gt;Rifle -->
<g id="edge1" class="edge">
<title>Gun-&gt;Rifle</title>
<path fill="none" stroke="#000000" d="M349.715,-215.8314C349.715,-208.131 349.715,-198.9743 349.715,-190.4166"/>
<polygon fill="#000000" stroke="#000000" points="353.2151,-190.4132 349.715,-180.4133 346.2151,-190.4133 353.2151,-190.4132"/>
</g>
<!-- RifleWLaser -->
<g id="node3" class="node">
<title>RifleWLaser</title>
<ellipse fill="none" stroke="#000000" cx="349.715" cy="-90" rx="60.8082" ry="18"/>
<text text-anchor="middle" x="349.715" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWLaser</text>
</g>
<!-- Rifle&#45;&gt;RifleWLaser -->
<g id="edge2" class="edge">
<title>Rifle-&gt;RifleWLaser</title>
<path fill="none" stroke="#000000" d="M349.715,-143.8314C349.715,-136.131 349.715,-126.9743 349.715,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="353.2151,-118.4132 349.715,-108.4133 346.2151,-118.4133 353.2151,-118.4132"/>
</g>
<!-- RifleWBayonet -->
<g id="node4" class="node">
<title>RifleWBayonet</title>
<ellipse fill="none" stroke="#000000" cx="198.715" cy="-90" rx="71.7873" ry="18"/>
<text text-anchor="middle" x="198.715" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWBayonet</text>
</g>
<!-- Rifle&#45;&gt;RifleWBayonet -->
<g id="edge3" class="edge">
<title>Rifle-&gt;RifleWBayonet</title>
<path fill="none" stroke="#000000" d="M325.7886,-150.5914C303.2487,-139.8439 268.9616,-123.495 241.6814,-110.4873"/>
<polygon fill="#000000" stroke="#000000" points="242.8879,-107.1851 232.355,-106.0403 239.875,-113.5035 242.8879,-107.1851"/>
</g>
<!-- RifleWNades -->
<g id="node6" class="node">
<title>RifleWNades</title>
<ellipse fill="none" stroke="#000000" cx="491.715" cy="-90" rx="63.6793" ry="18"/>
<text text-anchor="middle" x="491.715" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWNades</text>
</g>
<!-- Rifle&#45;&gt;RifleWNades -->
<g id="edge5" class="edge">
<title>Rifle-&gt;RifleWNades</title>
<path fill="none" stroke="#000000" d="M372.8458,-150.2717C394.1237,-139.4829 426.1381,-123.2503 451.5838,-110.3482"/>
<polygon fill="#000000" stroke="#000000" points="453.2931,-113.4058 460.6293,-105.7618 450.1275,-107.1625 453.2931,-113.4058"/>
</g>
<!-- RifleWLaserAndBayonet -->
<g id="node7" class="node">
<title>RifleWLaserAndBayonet</title>
<ellipse fill="none" stroke="#000000" cx="109.715" cy="-18" rx="109.9305" ry="18"/>
<text text-anchor="middle" x="109.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWLaserAndBayonet</text>
</g>
<!-- RifleWLaser&#45;&gt;RifleWLaserAndBayonet -->
<g id="edge6" class="edge">
<title>RifleWLaser-&gt;RifleWLaserAndBayonet</title>
<path fill="none" stroke="#000000" d="M306.8078,-77.1278C269.4072,-65.9077 214.6803,-49.4896 172.3794,-36.7993"/>
<polygon fill="#000000" stroke="#000000" points="173.3186,-33.427 162.7346,-33.9059 171.3071,-40.1318 173.3186,-33.427"/>
</g>
<!-- RifleWNadesAndLaser -->
<g id="node8" class="node">
<title>RifleWNadesAndLaser</title>
<ellipse fill="none" stroke="#000000" cx="581.715" cy="-18" rx="101.8225" ry="18"/>
<text text-anchor="middle" x="581.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWNadesAndLaser</text>
</g>
<!-- RifleWLaser&#45;&gt;RifleWNadesAndLaser -->
<g id="edge8" class="edge">
<title>RifleWLaser-&gt;RifleWNadesAndLaser</title>
<path fill="none" stroke="#000000" d="M391.7285,-76.9613C427.9945,-65.7064 480.8195,-49.3124 521.5672,-36.6666"/>
<polygon fill="#000000" stroke="#000000" points="522.6064,-40.0088 531.1197,-33.702 520.5316,-33.3234 522.6064,-40.0088"/>
</g>
<!-- RifleWNadesAndBayonet -->
<g id="node5" class="node">
<title>RifleWNadesAndBayonet</title>
<ellipse fill="none" stroke="#000000" cx="349.715" cy="-18" rx="112.3013" ry="18"/>
<text text-anchor="middle" x="349.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWNadesAndBayonet</text>
</g>
<!-- RifleWBayonet&#45;&gt;RifleWNadesAndBayonet -->
<g id="edge4" class="edge">
<title>RifleWBayonet-&gt;RifleWNadesAndBayonet</title>
<path fill="none" stroke="#000000" d="M232.2268,-74.0209C253.5327,-63.8618 281.3796,-50.5838 304.615,-39.5047"/>
<polygon fill="#000000" stroke="#000000" points="306.4072,-42.5277 313.9271,-35.0644 303.3943,-36.2092 306.4072,-42.5277"/>
</g>
<!-- RifleWBayonet&#45;&gt;RifleWLaserAndBayonet -->
<g id="edge9" class="edge">
<title>RifleWBayonet-&gt;RifleWLaserAndBayonet</title>
<path fill="none" stroke="#000000" d="M177.1706,-72.5708C165.8608,-63.4213 151.8267,-52.0679 139.493,-42.0901"/>
<polygon fill="#000000" stroke="#000000" points="141.6552,-39.3373 131.6793,-35.7689 137.2525,-44.7795 141.6552,-39.3373"/>
</g>
<!-- RifleWNades&#45;&gt;RifleWNadesAndBayonet -->
<g id="edge10" class="edge">
<title>RifleWNades-&gt;RifleWNadesAndBayonet</title>
<path fill="none" stroke="#000000" d="M460.5525,-74.1993C440.6934,-64.1299 414.6864,-50.9432 392.8556,-39.8741"/>
<polygon fill="#000000" stroke="#000000" points="394.2873,-36.6758 383.7854,-35.2751 391.1216,-42.9191 394.2873,-36.6758"/>
</g>
<!-- RifleWNades&#45;&gt;RifleWNadesAndLaser -->
<g id="edge7" class="edge">
<title>RifleWNades-&gt;RifleWNadesAndLaser</title>
<path fill="none" stroke="#000000" d="M513.0438,-72.937C524.5567,-63.7266 538.9595,-52.2044 551.5975,-42.094"/>
<polygon fill="#000000" stroke="#000000" points="553.9772,-44.6725 559.5995,-35.6924 549.6044,-39.2064 553.9772,-44.6725"/>
</g>
</g>
</svg>
</p><ul>
<li>Or do you
<ol>
<li>Build a big dumb class with everything</li>
<li>Pretend all that stuff isn&#x2019;t there, using just bits you want? Sort of de-evolving?</li>
</ol>
</li>
</ul>
<p><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Rifle Pages: 1 -->
<svg width="589pt" height="404pt" viewBox="0.00 0.00 588.62 404.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 400)">
<title>Rifle</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-400 584.619,-400 584.619,4 -4,4"/>
<!-- Gun -->
<g id="node1" class="node">
<title>Gun</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-378" rx="27.8306" ry="18"/>
<text text-anchor="middle" x="338.715" y="-373.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gun</text>
</g>
<!-- Rifle -->
<g id="node2" class="node">
<title>Rifle</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-306" rx="30.1919" ry="18"/>
<text text-anchor="middle" x="338.715" y="-301.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rifle</text>
</g>
<!-- Gun&#45;&gt;Rifle -->
<g id="edge1" class="edge">
<title>Gun-&gt;Rifle</title>
<path fill="none" stroke="#000000" d="M338.715,-359.8314C338.715,-352.131 338.715,-342.9743 338.715,-334.4166"/>
<polygon fill="#000000" stroke="#000000" points="342.2151,-334.4132 338.715,-324.4133 335.2151,-334.4133 342.2151,-334.4132"/>
</g>
<!-- RifleWBayonet -->
<g id="node3" class="node">
<title>RifleWBayonet</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-234" rx="71.7873" ry="18"/>
<text text-anchor="middle" x="338.715" y="-229.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWBayonet</text>
</g>
<!-- Rifle&#45;&gt;RifleWBayonet -->
<g id="edge2" class="edge">
<title>Rifle-&gt;RifleWBayonet</title>
<path fill="none" stroke="#000000" d="M338.715,-287.8314C338.715,-280.131 338.715,-270.9743 338.715,-262.4166"/>
<polygon fill="#000000" stroke="#000000" points="342.2151,-262.4132 338.715,-252.4133 335.2151,-262.4133 342.2151,-262.4132"/>
</g>
<!-- RifleWNadesAndBayonet -->
<g id="node4" class="node">
<title>RifleWNadesAndBayonet</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-162" rx="112.3013" ry="18"/>
<text text-anchor="middle" x="338.715" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWNadesAndBayonet</text>
</g>
<!-- RifleWBayonet&#45;&gt;RifleWNadesAndBayonet -->
<g id="edge3" class="edge">
<title>RifleWBayonet-&gt;RifleWNadesAndBayonet</title>
<path fill="none" stroke="#000000" d="M338.715,-215.8314C338.715,-208.131 338.715,-198.9743 338.715,-190.4166"/>
<polygon fill="#000000" stroke="#000000" points="342.2151,-190.4132 338.715,-180.4133 335.2151,-190.4133 342.2151,-190.4132"/>
</g>
<!-- RifleWNadesAndBayonetAndLaser -->
<g id="node5" class="node">
<title>RifleWNadesAndBayonetAndLaser</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-90" rx="150.4443" ry="18"/>
<text text-anchor="middle" x="338.715" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWNadesAndBayonetAndLaser</text>
</g>
<!-- RifleWNadesAndBayonet&#45;&gt;RifleWNadesAndBayonetAndLaser -->
<g id="edge4" class="edge">
<title>RifleWNadesAndBayonet-&gt;RifleWNadesAndBayonetAndLaser</title>
<path fill="none" stroke="#000000" d="M338.715,-143.8314C338.715,-136.131 338.715,-126.9743 338.715,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="342.2151,-118.4132 338.715,-108.4133 335.2151,-118.4133 342.2151,-118.4132"/>
</g>
<!-- RifleWLaserAndBayonet -->
<g id="node6" class="node">
<title>RifleWLaserAndBayonet</title>
<ellipse fill="none" stroke="#000000" cx="109.715" cy="-18" rx="109.9305" ry="18"/>
<text text-anchor="middle" x="109.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWLaserAndBayonet</text>
</g>
<!-- RifleWNadesAndBayonetAndLaser&#45;&gt;RifleWLaserAndBayonet -->
<g id="edge5" class="edge">
<title>RifleWNadesAndBayonetAndLaser-&gt;RifleWLaserAndBayonet</title>
<path fill="none" stroke="#000000" d="M285.0247,-73.1192C250.7069,-62.3293 206.1221,-48.3114 170.5034,-37.1125"/>
<polygon fill="#000000" stroke="#000000" points="171.3003,-33.6942 160.7109,-34.0336 169.2007,-40.3719 171.3003,-33.6942"/>
</g>
<!-- RifleWLaserAndNades -->
<g id="node7" class="node">
<title>RifleWLaserAndNades</title>
<ellipse fill="none" stroke="#000000" cx="338.715" cy="-18" rx="101.8225" ry="18"/>
<text text-anchor="middle" x="338.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWLaserAndNades</text>
</g>
<!-- RifleWNadesAndBayonetAndLaser&#45;&gt;RifleWLaserAndNades -->
<g id="edge6" class="edge">
<title>RifleWNadesAndBayonetAndLaser-&gt;RifleWLaserAndNades</title>
<path fill="none" stroke="#000000" d="M338.715,-71.8314C338.715,-64.131 338.715,-54.9743 338.715,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="342.2151,-46.4132 338.715,-36.4133 335.2151,-46.4133 342.2151,-46.4132"/>
</g>
<!-- RifleWLaser -->
<g id="node8" class="node">
<title>RifleWLaser</title>
<ellipse fill="none" stroke="#000000" cx="519.715" cy="-18" rx="60.8082" ry="18"/>
<text text-anchor="middle" x="519.715" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">RifleWLaser</text>
</g>
<!-- RifleWNadesAndBayonetAndLaser&#45;&gt;RifleWLaser -->
<g id="edge7" class="edge">
<title>RifleWNadesAndBayonetAndLaser-&gt;RifleWLaser</title>
<path fill="none" stroke="#000000" d="M382.069,-72.7542C409.6675,-61.7758 445.3817,-47.5691 473.5146,-36.3781"/>
<polygon fill="#000000" stroke="#000000" points="475.1254,-39.5041 483.1236,-32.5557 472.5381,-32.9998 475.1254,-39.5041"/>
</g>
</g>
</svg>
</p><p>No.</p>
<hr>
<h2 class="mume-header" id="composition-saves-the-day">Composition saves the day:</h2>

<p>This sort of thing matters when making games, so Unity loves components.</p>
<ul>
<li>inheritance defined an &#x201C;is a&#x201D; relationship</li>
<li><strong>composition defines the &#x201C;has a&#x201D; relationship</strong>. Has a collider, has a sprite renderer.</li>
<li>Great, a rifle can just be a rifle and <em>have</em> a grenade launcher and/or a sight.</li>
</ul>
<p>But how to do?</p>
<ul>
<li>You&#x2019;ve already made one, by extending <em>MonoBehaviour</em></li>
</ul>
<p><strong>A MonoBehaviour is, for our purposes, the same thing as a Component.</strong></p>
<hr>
<h3 class="mume-header" id="put-your-components-on-gameobjects">Put your components on GameObjects</h3>

<p>In Unity, everything on the stage extends <code>GameObject</code>.</p>
<ul>
<li>When you select a thing in your Unity scene, the Inspector is showing the <strong>GameObject.</strong></li>
<li>Each panel in the inspector is a <strong>component</strong>, added to the GameObject</li>
<li><strong>If your script extends MonoBehaviour, it&#x2019;s a component you can add!</strong></li>
</ul>
<p><img src="assets/week1/inspector_gameobject.png" alt="Gameobject inspector"><br>
<em>Look again. See them, see the components/MonoBehaviours</em></p>
<h2 class="mume-header" id="making-a-rifle-with-inheritance-and-composition">Making a rifle with inheritance and composition</h2>

<p>Here&#x2019;s the combo that really gets work done in Unity: use inheritance to make the components you want, and then add them in combination!</p>
<ol>
<li>A <code>Rifle</code> is a <code>Gun</code> is a <code>Monobehaviour</code>, thanks to inheritance</li>
<li>Add <code>Rifle</code> to a sprite plus <code>GrenadeLauncher</code>, <code>LaserSight</code> and <code>Bayonet</code> thanks to composition!</li>
</ol>
<p><img src="assets/week1/inspector_gun_components.png" alt="Rifle Inspector"><br>
<em>If you haven&#x2019;t grabbed the unity project, <a href="assets/week2/WeaponAddOns.7z">download it here</a></em></p>
<h3 class="mume-header" id="inheritance-from-monobehaviour-to-rifle-and-pistol">Inheritance: From Monobehaviour to Rifle and Pistol.</h3>

<p>Just like we&#x2019;d have done in c++ or another OO language.</p>
<p engine="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Gun Pages: 1 -->
<svg width="157pt" height="188pt" viewBox="0.00 0.00 156.66 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>Gun</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 152.664,-184 152.664,4 -4,4"/>
<!-- MonoBehaviour -->
<g id="node1" class="node">
<title>MonoBehaviour</title>
<ellipse fill="none" stroke="#000000" cx="74.332" cy="-162" rx="74.1644" ry="18"/>
<text text-anchor="middle" x="74.332" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">MonoBehaviour</text>
</g>
<!-- Gun -->
<g id="node2" class="node">
<title>Gun</title>
<ellipse fill="none" stroke="#000000" cx="74.332" cy="-90" rx="27.8306" ry="18"/>
<text text-anchor="middle" x="74.332" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gun</text>
</g>
<!-- MonoBehaviour&#45;&gt;Gun -->
<g id="edge1" class="edge">
<title>MonoBehaviour-&gt;Gun</title>
<path fill="none" stroke="#000000" d="M74.332,-143.8314C74.332,-136.131 74.332,-126.9743 74.332,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="77.8321,-118.4132 74.332,-108.4133 70.8321,-118.4133 77.8321,-118.4132"/>
</g>
<!-- Rifle -->
<g id="node3" class="node">
<title>Rifle</title>
<ellipse fill="none" stroke="#000000" cx="34.332" cy="-18" rx="30.1919" ry="18"/>
<text text-anchor="middle" x="34.332" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rifle</text>
</g>
<!-- Gun&#45;&gt;Rifle -->
<g id="edge2" class="edge">
<title>Gun-&gt;Rifle</title>
<path fill="none" stroke="#000000" d="M64.8525,-72.937C60.0905,-64.3654 54.2161,-53.7914 48.8967,-44.2165"/>
<polygon fill="#000000" stroke="#000000" points="51.9373,-42.4825 44.0212,-35.4407 45.8182,-45.882 51.9373,-42.4825"/>
</g>
<!-- Pistol -->
<g id="node4" class="node">
<title>Pistol</title>
<ellipse fill="none" stroke="#000000" cx="115.332" cy="-18" rx="33.0798" ry="18"/>
<text text-anchor="middle" x="115.332" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Pistol</text>
</g>
<!-- Gun&#45;&gt;Pistol -->
<g id="edge3" class="edge">
<title>Gun-&gt;Pistol</title>
<path fill="none" stroke="#000000" d="M84.0484,-72.937C88.9295,-64.3654 94.9508,-53.7914 100.4031,-44.2165"/>
<polygon fill="#000000" stroke="#000000" points="103.4935,-45.8625 105.4005,-35.4407 97.4106,-42.3986 103.4935,-45.8625"/>
</g>
</g>
</svg>
</p><pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> UnityEngine<span class="token punctuation">;</span>

<span class="token comment">// Gun is a component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Gun</span> <span class="token punctuation">:</span> <span class="token class-name">MonoBehaviour</span> <span class="token punctuation">{</span>

	<span class="token comment">// Use this for initialization</span>
	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;pew&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

<span class="token comment">// Rifle is a gun. Dead easy inheritance.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rifle</span> <span class="token punctuation">:</span> <span class="token class-name">Gun</span> <span class="token punctuation">{</span>

	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre><h3 class="mume-header" id="composition-add-ons">Composition: add ons</h3>

<p>Season our gameobject with components like Nade, Laser, Bayonet in any combination.</p>
<p engine="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: Rifle Pages: 1 -->
<svg width="396pt" height="260pt" viewBox="0.00 0.00 396.09 260.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
<title>Rifle</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-256 392.0916,-256 392.0916,4 -4,4"/>
<!-- MonoBehaviour -->
<g id="node1" class="node">
<title>MonoBehaviour</title>
<ellipse fill="none" stroke="#000000" cx="202.8723" cy="-234" rx="74.1644" ry="18"/>
<text text-anchor="middle" x="202.8723" y="-229.8" font-family="Times,serif" font-size="14.00" fill="#000000">MonoBehaviour</text>
</g>
<!-- Gun -->
<g id="node2" class="node">
<title>Gun</title>
<ellipse fill="none" stroke="#000000" cx="202.8723" cy="-162" rx="27.8306" ry="18"/>
<text text-anchor="middle" x="202.8723" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">Gun</text>
</g>
<!-- MonoBehaviour&#45;&gt;Gun -->
<g id="edge1" class="edge">
<title>MonoBehaviour-&gt;Gun</title>
<path fill="none" stroke="#000000" d="M202.8723,-215.8314C202.8723,-208.131 202.8723,-198.9743 202.8723,-190.4166"/>
<polygon fill="#000000" stroke="#000000" points="206.3724,-190.4132 202.8723,-180.4133 199.3724,-190.4133 206.3724,-190.4132"/>
</g>
<!-- Rifle -->
<g id="node3" class="node">
<title>Rifle</title>
<ellipse fill="none" stroke="#000000" cx="162.8723" cy="-90" rx="30.1919" ry="18"/>
<text text-anchor="middle" x="162.8723" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Rifle</text>
</g>
<!-- Gun&#45;&gt;Rifle -->
<g id="edge2" class="edge">
<title>Gun-&gt;Rifle</title>
<path fill="none" stroke="#000000" d="M193.3929,-144.937C188.6309,-136.3654 182.7564,-125.7914 177.4371,-116.2165"/>
<polygon fill="#000000" stroke="#000000" points="180.4776,-114.4825 172.5616,-107.4407 174.3585,-117.882 180.4776,-114.4825"/>
</g>
<!-- Pistol -->
<g id="node4" class="node">
<title>Pistol</title>
<ellipse fill="none" stroke="#000000" cx="243.8723" cy="-90" rx="33.0798" ry="18"/>
<text text-anchor="middle" x="243.8723" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">Pistol</text>
</g>
<!-- Gun&#45;&gt;Pistol -->
<g id="edge3" class="edge">
<title>Gun-&gt;Pistol</title>
<path fill="none" stroke="#000000" d="M212.5888,-144.937C217.4698,-136.3654 223.4911,-125.7914 228.9435,-116.2165"/>
<polygon fill="#000000" stroke="#000000" points="232.0338,-117.8625 233.9408,-107.4407 225.9509,-114.3986 232.0338,-117.8625"/>
</g>
<!-- LaserSight -->
<g id="node5" class="node">
<title>LaserSight</title>
<ellipse fill="none" stroke="#000000" cx="52.8723" cy="-18" rx="52.745" ry="18"/>
<text text-anchor="middle" x="52.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">LaserSight</text>
</g>
<!-- Rifle&#45;&gt;LaserSight -->
<g id="edge5" class="edge">
<title>Rifle-&gt;LaserSight</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M142.44,-76.6261C124.0491,-64.5885 96.9866,-46.8748 77.4258,-34.0714"/>
</g>
<!-- GrenadeLauncher -->
<g id="node6" class="node">
<title>GrenadeLauncher</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-18" rx="80.3996" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">GrenadeLauncher</text>
</g>
<!-- Rifle&#45;&gt;GrenadeLauncher -->
<g id="edge7" class="edge">
<title>Rifle-&gt;GrenadeLauncher</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M172.5888,-72.937C178.935,-61.7923 187.2088,-47.2627 193.6535,-35.9453"/>
</g>
<!-- Bayonet -->
<g id="node7" class="node">
<title>Bayonet</title>
<ellipse fill="none" stroke="#000000" cx="344.8723" cy="-18" rx="43.4396" ry="18"/>
<text text-anchor="middle" x="344.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Bayonet</text>
</g>
<!-- Rifle&#45;&gt;Bayonet -->
<g id="edge9" class="edge">
<title>Rifle-&gt;Bayonet</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M186.6779,-78.686C191.6687,-76.4062 196.9202,-74.0747 201.8723,-72 239.1986,-56.362 282.7994,-40.1927 311.9536,-29.6744"/>
</g>
<!-- Pistol&#45;&gt;LaserSight -->
<g id="edge4" class="edge">
<title>Pistol-&gt;LaserSight</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M217.7549,-78.5332C212.5174,-76.3111 207.037,-74.0406 201.8723,-72 164.128,-57.0865 120.414,-41.4318 90.1395,-30.841"/>
</g>
<!-- Pistol&#45;&gt;GrenadeLauncher -->
<g id="edge6" class="edge">
<title>Pistol-&gt;GrenadeLauncher</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M234.1894,-72.5708C228.0392,-61.5003 220.0964,-47.2034 213.8838,-36.0206"/>
</g>
<!-- Pistol&#45;&gt;Bayonet -->
<g id="edge8" class="edge">
<title>Pistol-&gt;Bayonet</title>
<path fill="none" stroke="#000000" stroke-dasharray="1,5" d="M264.3112,-75.4297C281.3731,-63.2668 305.633,-45.9726 323.0656,-33.5454"/>
</g>
</g>
</svg>
</p><p>That looks noodley as a diagram, but as you saw it&#x2019;s clear in Unity:</p>
<p><img src="assets/week1/inspector_gun_components.png" alt="Gun addons"><br>
<em>Inheritance isn&#x2019;t directly visible, except that these all must be descended from MonoBehaviour</em></p>
<ol>
<li>Obviously <code>LaserSight</code>, <code>GrenadeLauncher</code> and <code>Bayonet</code> all extend <code>MonoBehaviour</code> too.</li>
</ol>
<p engine="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: GunAddOn Pages: 1 -->
<svg width="396pt" height="116pt" viewBox="0.00 0.00 396.09 116.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 112)">
<title>GunAddOn</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-112 392.0916,-112 392.0916,4 -4,4"/>
<!-- MonoBehaviour -->
<g id="node1" class="node">
<title>MonoBehaviour</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-90" rx="74.1644" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">MonoBehaviour</text>
</g>
<!-- LaserSight -->
<g id="node2" class="node">
<title>LaserSight</title>
<ellipse fill="none" stroke="#000000" cx="52.8723" cy="-18" rx="52.745" ry="18"/>
<text text-anchor="middle" x="52.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">LaserSight</text>
</g>
<!-- MonoBehaviour&#45;&gt;LaserSight -->
<g id="edge1" class="edge">
<title>MonoBehaviour-&gt;LaserSight</title>
<path fill="none" stroke="#000000" d="M169.985,-73.8418C147.1864,-62.9709 117.0257,-48.5897 93.0221,-37.1442"/>
<polygon fill="#000000" stroke="#000000" points="94.353,-33.9014 83.8202,-32.7566 91.3402,-40.2199 94.353,-33.9014"/>
</g>
<!-- GrenadeLauncher -->
<g id="node3" class="node">
<title>GrenadeLauncher</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-18" rx="80.3996" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">GrenadeLauncher</text>
</g>
<!-- MonoBehaviour&#45;&gt;GrenadeLauncher -->
<g id="edge2" class="edge">
<title>MonoBehaviour-&gt;GrenadeLauncher</title>
<path fill="none" stroke="#000000" d="M203.8723,-71.8314C203.8723,-64.131 203.8723,-54.9743 203.8723,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="207.3724,-46.4132 203.8723,-36.4133 200.3724,-46.4133 207.3724,-46.4132"/>
</g>
<!-- Bayonet -->
<g id="node4" class="node">
<title>Bayonet</title>
<ellipse fill="none" stroke="#000000" cx="344.8723" cy="-18" rx="43.4396" ry="18"/>
<text text-anchor="middle" x="344.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Bayonet</text>
</g>
<!-- MonoBehaviour&#45;&gt;Bayonet -->
<g id="edge3" class="edge">
<title>MonoBehaviour-&gt;Bayonet</title>
<path fill="none" stroke="#000000" d="M235.8674,-73.6621C257.3382,-62.6983 285.6822,-48.2247 308.0855,-36.7848"/>
<polygon fill="#000000" stroke="#000000" points="309.9715,-39.7517 317.2858,-32.0867 306.788,-33.5174 309.9715,-39.7517"/>
</g>
</g>
</svg>
</p><p>But would add an evolution between them say <code>GunAddOn</code>, to add things common to all addOns. Still using inheritance where it helps!</p>
<p engine="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: GunAddOn Pages: 1 -->
<svg width="396pt" height="188pt" viewBox="0.00 0.00 396.09 188.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 184)">
<title>GunAddOn</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-184 392.0916,-184 392.0916,4 -4,4"/>
<!-- MonoBehaviour -->
<g id="node1" class="node">
<title>MonoBehaviour</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-162" rx="74.1644" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-157.8" font-family="Times,serif" font-size="14.00" fill="#000000">MonoBehaviour</text>
</g>
<!-- GunAddOn -->
<g id="node2" class="node">
<title>GunAddOn</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-90" rx="56.186" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-85.8" font-family="Times,serif" font-size="14.00" fill="#000000">GunAddOn</text>
</g>
<!-- MonoBehaviour&#45;&gt;GunAddOn -->
<g id="edge1" class="edge">
<title>MonoBehaviour-&gt;GunAddOn</title>
<path fill="none" stroke="#000000" d="M203.8723,-143.8314C203.8723,-136.131 203.8723,-126.9743 203.8723,-118.4166"/>
<polygon fill="#000000" stroke="#000000" points="207.3724,-118.4132 203.8723,-108.4133 200.3724,-118.4133 207.3724,-118.4132"/>
</g>
<!-- LaserSight -->
<g id="node3" class="node">
<title>LaserSight</title>
<ellipse fill="none" stroke="#000000" cx="52.8723" cy="-18" rx="52.745" ry="18"/>
<text text-anchor="middle" x="52.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">LaserSight</text>
</g>
<!-- GunAddOn&#45;&gt;LaserSight -->
<g id="edge2" class="edge">
<title>GunAddOn-&gt;LaserSight</title>
<path fill="none" stroke="#000000" d="M172.2178,-74.9064C149.1359,-63.9005 117.6871,-48.9051 92.8671,-37.0704"/>
<polygon fill="#000000" stroke="#000000" points="94.2432,-33.849 83.7104,-32.7043 91.2304,-40.1675 94.2432,-33.849"/>
</g>
<!-- GrenadeLauncher -->
<g id="node4" class="node">
<title>GrenadeLauncher</title>
<ellipse fill="none" stroke="#000000" cx="203.8723" cy="-18" rx="80.3996" ry="18"/>
<text text-anchor="middle" x="203.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">GrenadeLauncher</text>
</g>
<!-- GunAddOn&#45;&gt;GrenadeLauncher -->
<g id="edge3" class="edge">
<title>GunAddOn-&gt;GrenadeLauncher</title>
<path fill="none" stroke="#000000" d="M203.8723,-71.8314C203.8723,-64.131 203.8723,-54.9743 203.8723,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="207.3724,-46.4132 203.8723,-36.4133 200.3724,-46.4133 207.3724,-46.4132"/>
</g>
<!-- Bayonet -->
<g id="node5" class="node">
<title>Bayonet</title>
<ellipse fill="none" stroke="#000000" cx="344.8723" cy="-18" rx="43.4396" ry="18"/>
<text text-anchor="middle" x="344.8723" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">Bayonet</text>
</g>
<!-- GunAddOn&#45;&gt;Bayonet -->
<g id="edge4" class="edge">
<title>GunAddOn-&gt;Bayonet</title>
<path fill="none" stroke="#000000" d="M233.7748,-74.7307C255.5159,-63.6288 285.0709,-48.5369 308.2319,-36.71"/>
<polygon fill="#000000" stroke="#000000" points="310.0895,-39.6914 317.4038,-32.0265 306.906,-33.4572 310.0895,-39.6914"/>
</g>
</g>
</svg>
</p><hr>
<h3 class="mume-header" id="handy-tip-requirecomponent">Handy tip: RequireComponent</h3>

<p>GunAddOns are all going to need a gun to be useful right? What if someone tries to delete the Rifle component?</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> UnityEngine<span class="token punctuation">;</span>

<span class="token comment">// This line means you can&apos;t have a GunAddOn component unless </span>
<span class="token comment">// another component is descended from Gun.</span>
<span class="token punctuation">[</span><span class="token class-name">RequireComponent</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>Gun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GunAddon</span> <span class="token punctuation">:</span> <span class="token class-name">MonoBehaviour</span> <span class="token punctuation">{</span>
  <span class="token comment">//no functions at all  </span>
<span class="token punctuation">}</span>

</pre><pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GrenadeLauncher</span> <span class="token punctuation">:</span> <span class="token class-name">GunAddon</span> <span class="token punctuation">{</span>

	<span class="token comment">// Use this for initialization</span>
	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;I spew pineapples&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>
</pre><hr>
<h2 class="mume-header" id="object-oriented-design-principles">Object oriented design principles.</h2>

<blockquote>
<p><strong>Quick definitions:</strong></p>
<ul>
<li>Encapsulation: putting data/code that go together into a capsule (class).
<ul>
<li>Cohesion: When the stuff in that capsule really does belong together</li>
<li>Coupling: when a class reaches too specifically into another can be easily broken by changes in that class.</li>
</ul>
</li>
<li>Abstraction: The outside view of encapsulation. You see the simplest controls: the interface.</li>
</ul>
</blockquote>
<hr>
<h3 class="mume-header" id="what-is-encapsulation">What is encapsulation?</h3>

<p>It&#x2019;s a long word but it&#x2019;s a simple thing we experience every day.</p>
<p><img src="assets/week2/kinder_surprise.jpg" alt="kinder"><br>
<em>capsule: a thing with things inside</em></p>
<p>The objects in our every day life usually <strong>hide the bits we don&#x2019;t need to know about:</strong></p>
<p><img src="assets/week2/shaver_real.jpg" alt="shaver real"><br>
<img src="assets/week2/shaver_patent.jpg" alt="shaver patent"><br>
<em>outside v inside</em></p>
<h4 class="mume-header" id="goldilocks-factor">Goldilocks factor</h4>

<blockquote>
<p>How much to hide? The answer is, as with most design questions: it depends.</p>
</blockquote>
<p>If you only open and read things on your computer, the simple magic mouse is a nice thing. If you play MOBAs, you might live or die by the macro buttons on your razer naga.</p>
<p><img src="assets/week2/mouse_magic.jpg" alt="magicmouse"><br>
<img src="assets/week2/mouse_naga.jpg" alt="naga"></p>
<h2 class="mume-header" id="encapsulation-in-practice">Encapsulation in practice</h2>

<p>Object Oriented design is all about encapsulation, and classes/objects are made for it.</p>
<h3 class="mume-header" id="classes-and-objects-refresher">Classes and Objects refresher</h3>

<p><strong>Classes</strong> are the basic way we bundle up data, say our player data, with the code that acts on it.</p>
<blockquote>
<p>Classes: thing in itself, the definition. The recipe, the blueprint.</p>
</blockquote>
<p>Tower defense tower:<br>
<img src="assets/week2/td_fieldrunners_towers_1.jpg" alt="FieldRunners"><br>
<img src="assets/week2/td_fieldrunners_tower_types_2.jpg" alt="FieldRunners_tower types"><br>
<img src="assets/week2/td_fieldrunners_levels_1.jpg" alt="FieldRunners Levels 1"><br>
<img src="assets/week2/td_fieldrunners_levels_2.jpg" alt="FieldRunners Levels 2"></p>
<p>So a <code>FireballTower</code> might contain things like <code>health</code>, <code>firingRate</code>, <code>shotDamage</code>, <code>FireShot()</code>, <code>TrackTarget(target)</code>, <code>Build()</code>,<code>Collapse()</code>.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"> 
<span class="token class-name">Class</span> FireballTower
<span class="token punctuation">{</span>
    <span class="token comment">// stats</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> health <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> firingRate <span class="token operator">=</span> <span class="token number">0.25</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> shotDamage <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

    <span class="token comment">// Upgrades</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> level <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> function <span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Constructor</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> function <span class="token function">Build</span> <span class="token punctuation">(</span><span class="token keyword">int</span> xLocation<span class="token punctuation">,</span> <span class="token keyword">int</span> yLocation<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// spell casting code</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> function <span class="token function">FireShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// spell casting code</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> function <span class="token function">Track</span> <span class="token punctuation">(</span> <span class="token class-name">Transform</span> target<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Tracking code</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p><strong>Objects</strong> are what we make from classes.</p>
<blockquote>
<p>A unique thing made to the specifications of the class. The dinner made from a recipe.</p>
</blockquote>
<p>The 4 chairs at your dinner table are real objects based on a design. One chair has a slightly softer cushion, one has a ding in the leg, one is mum&#x2019;s favourite. A design can&#x2019;t have these things, it&#x2019;s just specifications.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp">    <span class="token comment">// Create an object/instance of Class FireballTower</span>
    <span class="token class-name">FireballTower</span> fireball1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Ask this object to build itself at a location. </span>
    <span class="token comment">// Already it&apos;s unlike the Class/design because it has a state:</span>
    <span class="token comment">// it&apos;s built, and has a real location on the map. </span>
    <span class="token comment">// When it&apos;s destroyed, it&apos;s gone forever.</span>
    fireball1<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><hr>
<h3 class="mume-header" id="scope-in-_c_-and-_c_">Scope in <em>C#</em> and <em>C++</em></h3>

<p>Scope (simplified) is a way to encapsulate data(variables) to separate areas even inside a class. They&#x2019;re only usable inside the code blocks {} in which they&#x2019;re defined.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp">    <span class="token class-name">Class</span> Missile
    <span class="token punctuation">{</span>
        <span class="token comment">// A value here has class scope. All functions can see it.</span>
        <span class="token comment">// It is also called a &quot;member variable&quot;.</span>
        <span class="token comment">// public/private doesn&apos;t have an effect inside the class.</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> _damage <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> function <span class="token function">SetDamage</span><span class="token punctuation">(</span><span class="token keyword">int</span> newValue <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Assigning newValue, which is a function argument, to localDamage.</span>
            <span class="token comment">// localDamage is defined here (because you see the type &quot;int&quot; before</span>
            <span class="token comment">// the name). localDamage then is only visible to code inside this function.</span>
            <span class="token keyword">int</span> localDamage <span class="token operator">=</span> newValue<span class="token punctuation">;</span>

            <span class="token comment">// Assigning the local variable&apos;s value to the class scoped variable _damage</span>
            _damage <span class="token operator">=</span> localDamage<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> function <span class="token function">LogDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>localDamage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error, variable not defined</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// same error</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>_damage<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Logs value of _damage successfully</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</pre><hr>
<h3 class="mume-header" id="access-modifiers">Access modifiers</h3>

<p>&#x2026;are what we&#x2019;ve used so far to allow/bar access to the delicate insides of a class. They&#x2019;re vital, but they&#x2019;re also dumb. Once they&#x2019;re defined they never react to change, like a sign on a gate.</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp">    <span class="token comment">// public: any class has access</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> health <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token comment">// protected: any class that inherits this one has access</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> _shotDamage <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token comment">// private: Only this class has access</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> _trackingSpeedY <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>

    <span class="token comment">// no modifier: defaults to private</span>
    <span class="token keyword">int</span> _firingRate <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// public const: we can make it public while preventing</span>
    <span class="token comment">// others changing.. but we can&apos;t change it either.</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token keyword">int</span> MAX_HEALTH <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

</pre><hr>
<h3 class="mume-header" id="using-functions-to-hide-variables">Using functions to hide variables</h3>

<p>Instead of a sign, a function can act more like a security guard: they do the same job but can react to changes and apply conditions.</p>
<blockquote>
<p><strong>In game situation:</strong> You receive a Medallion Of Massive Damage and it attempts to set your damage to 30. You already have 50, so this would be a debuff. Our tower should not drop below 50 shot damage.</p>
</blockquote>
<p>Translated to a <strong>Coding problem:</strong></p>
<ol>
<li>Allow only certain direct changes to shot damage</li>
<li>Can&#x2019;t be lowered for example</li>
<li>Changes aren&#x2019;t always allowed</li>
</ol>
<p>One way is to <strong>all the object suggesting the change to check</strong>:</p>
<ul>
<li>it looks at our shot damage</li>
<li>it checks for permission</li>
<li>it makes the adjustment.</li>
</ul>
<p>Maybe it seems ok for the first weapon, the calling object might be friendly and can be trusted with the logic. But it <strong>becomes a huge mess later</strong>: anything damaging the player has to worry about our health range. It also has to be trusted with important rules we want followed. It&#x2019;s risky and there&#x2019;s a mess of redundant code.</p>
<p><strong>The solution is a private health variable and a public setter function inside our Tower.</strong> We&#x2019;ll need a getter too. Psuedocode:</p>
<pre data-role="codeBlock" data-info class="language-"><code>    Class Tower
    ...
    function SetShotDamage ( amount )
        if amount is more than current damage and changes are currently allowed
            set damage to new amount
        otherwise
            don&apos;t alter damage

    function GetShotDamage ()
        return shot damage
</code></pre><hr>
<h3 class="mume-header" id="access-functions-aka-properties">Access functions aka properties</h3>

<p>It&#x2019;s such a useful and common solution, c# has built in syntax to tidy it up and make errors less likely. These are officially <strong>Properties</strong>&quot;** but <strong>accessor functions</strong> or plain <strong>getters/setters</strong> is fine.</p>
<p>In a new Unity project I created a new script. We don&#x2019;t want this script created as a Component. Instead, browse to the assets folder in the project panel. Right click the space below &#x201C;scenes&#x201D; and select <em>Create -&gt; C# Script</em>. Name it FireballTower.</p>
<p><img src="assets/week2/create_script_assets.png" alt="New c# script"></p>
<p>Double click the script to edit in Visual Studio and type in (don&#x2019;t copy paste) this code:</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token comment">// We don&apos;t need the unity includes    </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FireballTower</span>  <span class="token comment">// and we don&apos;t inherit `MonoBehaviour`</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> _shotDamage <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">bool</span> _damageBuffAllowed <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Empty constructor for now</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// no need to write SetHealth(int value), GetHealth()</span>
    <span class="token comment">// with correct function definitions etc</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> ShotDamage
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _shotDamage<span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">set</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_damageBuffAllowed <span class="token operator">&amp;&amp;</span> <span class="token keyword">value</span> <span class="token operator">&gt;</span> _shotDamage<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                _shotDamage <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token comment">// end class</span>
</pre><p>To <strong>test it</strong>, we now want a script component like last week:</p>
<p>1: Create a sprite<br>
2: Change it to a circle or square, scale it up large enough to see.<br>
3: With it selected, go to the Inspector panel and name it <code>TestSprite</code>. Then click &#x201C;Add Component&#x201D;, type &#x201C;script&#x201D; in the search field and select New Script. Name it <code>TestTheTower</code>.<br>
4: Edit the code to look like this:</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> UnityEngine<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTheTower</span> <span class="token punctuation">:</span> <span class="token class-name">MonoBehaviour</span> <span class="token punctuation">{</span>

    <span class="token comment">// Define a variable of type (aka class) FireballTower:</span>
    <span class="token keyword">private</span> <span class="token class-name">FireballTower</span> _fireballTower<span class="token punctuation">;</span>
    
	<span class="token comment">// Use this for initialization</span>
	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// Create the tower with `new`</span>
        _fireballTower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Attempting to set it to 30.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Even though it&apos;s a function, we treat ShotDamage like a variable</span>
        _fireballTower<span class="token punctuation">.</span>ShotDamage <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Attempting += 25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// We can use regular math and assignment operators (+=) and increment (++)</span>
        _fireballTower<span class="token punctuation">.</span>ShotDamage <span class="token operator">+=</span> <span class="token number">25</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Update is called once per frame</span>
    <span class="token keyword">void</span> <span class="token function">Update</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre><p>Make sure your Console is visible (not hidden behind the project panel) and <strong>hit the play button</strong>.</p>
<p>Here&#x2019;s <strong>the output.</strong> (Tip: in the Console&#x2019;s top right menu you can change log entry to 1 row to get these shorter log entries.)</p>
<p><img src="assets/week2/fireball_tower_test_output.png" alt="tower test ouput"></p>
<hr>
<h3 class="mume-header" id="creating-objects-vs-componentsmonobehaviours">Creating Objects vs Components/Monobehaviours</h3>

<p><em>THIS SECTION NEEDS DIAGRAMS</em></p>
<p>This is important, and a lot of students missed it last trimester so I&#x2019;ll be drilling it in a bit.</p>
<p>If you make a script that doesn&#x2019;t inherit from anything, it&#x2019;s just a basic c# class. You create basic Objects from them using the <code>new</code> keyword, like <code>Tower trashTower = new Tower();</code>. This is consistent with other object oriented languages, and normal in c#.</p>
<blockquote>
<p>Scripts created in Unity extend Monobehaviour, making them components: they add functionality to other GameObjects. You&#x2019;re going to drag them to or add them in the inspector panel. You don&#x2019;t create them with new, that&#x2019;s already handled by unity.</p>
</blockquote>
<p>If you try to call &#x201C;TowerComponent noobTower = new TowerComponent()&#x201D; it&#x2019;ll work, but it&#x2019;ll throw errors in Unity, which will hurt your marks. It&#x2019;ll hurt them for a good reason, because you&#x2019;re including a bunch of stuff in your object that is totally unused.</p>
<p>If you want to create GameObjects at runtime along with components, rather than relying on what&#x2019;s in the scene, you can do it by instantiating prefabs. We&#x2019;ll talk about that another week.</p>
<h3 class="mume-header" id="constructors-and-destructors">Constructors and destructors</h3>

<p>The knowledge required to properly set up an object, and to finish it off and clean up its data requires a lot of knowledge of its internals. We&#x2019;re trying to hide that stuff, so the Class defines a <strong>constructor function</strong> and <strong>destructor function.</strong> The <em>C#</em> specification uses &#x201C;finalizer&#x201D; and &#x201C;destructor&#x201D; interchangeably.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Tower
<span class="token punctuation">{</span>
    <span class="token comment">// A public function with the Class&apos;s name is the constructor.</span>
    <span class="token comment">// An invisible, automatic one will be created if you don&apos;t define it.</span>
    <span class="token keyword">public</span> <span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Setup goes here.</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The leading ~ (tilda) symbol makes this the destructor.</span>
    <span class="token comment">// Destructors cannot be called, inherited or overriden. </span>
    <span class="token comment">// The have no access modifier, which makes them private by default.</span>
    <span class="token operator">~</span><span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Tidy up before disappearing.</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre><hr>
<h2 class="mume-header" id="more-detail-on-cohesion">More detail on Cohesion</h2>

<p>Ideas of what belongs in a class, how big a class should be, that&#x2019;s not set in stone. At home you&#x2019;ll get a feel for it based on projects and experience. At an organised workplace it&#x2019;ll be somewhat defined by coding standards/team lead/existing project code.</p>
<p>We&#x2019;ll get into that more in Design Patterns. For now, it&#x2019;s really just a measure of how much your code/data belongs where you&#x2019;ve put it.</p>
<h4 class="mume-header" id="medium-cohesion">Medium Cohesion</h4>

<p>A tower looks for targets, so it&#x2019;s fair to have targeting here.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Tower
<span class="token punctuation">{</span>
    List<span class="token operator">&lt;</span>Player<span class="token operator">&gt;</span> potentialTargets<span class="token punctuation">;</span>

    function <span class="token function">AquireTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    function <span class="token function">TrackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    function <span class="token function">FireAtTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="high-cohesion">High cohesion</h4>

<p>&#x2026;might look like the following: a targeter that acquires and<br>
tracks targets. It&#x2019;s more specific, and leaves out firing.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Targeter <span class="token punctuation">:</span> <span class="token keyword">public</span> Monobehaviour
<span class="token punctuation">{</span>
    List<span class="token operator">&lt;</span>Trackable<span class="token operator">&gt;</span> potentialTargets<span class="token punctuation">;</span>

    function <span class="token function">FindClosestTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    function <span class="token function">FindRandomTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    function <span class="token function">GetCurrentTargetVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>If wanted to use <strong>inheritance</strong>, our Enemy could inherit from Targer. Another approach is <strong>composition</strong>: the Targeter is a component we add to our Tower. We&#x2019;ll keep coming back to inheritance and composition.</p>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>