<!DOCTYPE html><html><head>
      <title>week2_notes</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
      
      
      
      
      
      
      
      
      

      <style> 
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#c5c8c6;background-color:#27292c !important;border:#43484c;border-radius:3px}pre[class*="language-"]{padding:1em}code[class*="language-"] .token.comment,pre[class*="language-"] .token.comment,code[class*="language-"] .token.prolog,pre[class*="language-"] .token.prolog,code[class*="language-"] .token.doctype,pre[class*="language-"] .token.doctype,code[class*="language-"] .token.cdata,pre[class*="language-"] .token.cdata{color:#7C7C7C}code[class*="language-"] .token.punctuation,pre[class*="language-"] .token.punctuation{color:#96CBFE}code[class*="language-"] .namespace,pre[class*="language-"] .namespace{opacity:.7}code[class*="language-"] .token.constant,pre[class*="language-"] .token.constant{color:#99CC99}code[class*="language-"] .token.boolean,pre[class*="language-"] .token.boolean,code[class*="language-"] .token.number,pre[class*="language-"] .token.number,code[class*="language-"] .token.function-name,pre[class*="language-"] .token.function-name{color:#FF73FD}code[class*="language-"] .token.tag,pre[class*="language-"] .token.tag{color:#96CBFE}code[class*="language-"] .token.selector,pre[class*="language-"] .token.selector{color:#96CBFE}code[class*="language-"] .token.attr-name,pre[class*="language-"] .token.attr-name{color:#C6C5FE}code[class*="language-"] .token.string,pre[class*="language-"] .token.string{color:#A8FF60}code[class*="language-"] .token.char,pre[class*="language-"] .token.char{color:#FF8000}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{color:#FFD2A7}code[class*="language-"] .token.url,pre[class*="language-"] .token.url{color:#7C7C7C}code[class*="language-"] .token.operator,pre[class*="language-"] .token.operator{color:#EDEDED}code[class*="language-"] .token.atrule,pre[class*="language-"] .token.atrule,code[class*="language-"] .token.attr-value,pre[class*="language-"] .token.attr-value,code[class*="language-"] .token.keyword,pre[class*="language-"] .token.keyword{color:#CFCB90}code[class*="language-"] .token.function,pre[class*="language-"] .token.function{color:#FFD2A7}code[class*="language-"] .token.class-name,pre[class*="language-"] .token.class-name{color:#FFD2A7}code[class*="language-"] .token.variable,pre[class*="language-"] .token.variable{color:#C6C5FE}code[class*="language-"] .token.regex,pre[class*="language-"] .token.regex,code[class*="language-"] .token.important,pre[class*="language-"] .token.important{color:#E9C062}code[class*="language-"] .token.important,pre[class*="language-"] .token.important,code[class*="language-"] .token.bold,pre[class*="language-"] .token.bold{font-weight:bold}code[class*="language-"] .token.italic,pre[class*="language-"] .token.italic{font-style:italic}code[class*="language-"] .token.entity,pre[class*="language-"] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:rgba(153,122,102,0.08);background:linear-gradient(to right, rgba(153,122,102,0.1) 70%, rgba(153,122,102,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:rgba(153,122,102,0.4);color:#f5f2f0;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px white}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#ccc;background-color:#141414;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#fff}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#a3a3a3}html body strong{color:#fff}html body del{color:#a3a3a3}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#a3a3a3;border-left:4px solid #3d3d3d}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#3d3d3d;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#fff}html body table td,html body table th{border:1px solid #3d3d3d;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#fff;background-color:#282828;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#3d3d3d;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#fff;border:1px solid #3d3d3d;border-bottom:2px solid #2e2e2e;padding:2px 4px;background-color:#282828;border-radius:3px}@media print{html body{background-color:#141414}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#fff;page-break-after:avoid}html body blockquote{color:#a3a3a3}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/*.markdown-preview.markdown-preview {
  // modify your style here
  // eg: background-color: blue;  
  background-color: #282A36;
}*/
 
      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="gpr103-week-2-module-12">GPR103 Week 2 (module 1.2)</h1>

<p>Learning to hide the grease, pistons and wires.</p>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#gpr103-week-2-module-12">GPR103 Week 2 (module 1.2)</a>
<ul>
<li><a href="#object-oriented-design-principles">Object oriented design principles.</a>
<ul>
<li><a href="#what-is-encapsulation">What is encapsulation?</a>
<ul>
<li><a href="#goldilocks-factor">Goldilocks factor</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#encapsulation-in-practice">Encapsulation in practice</a>
<ul>
<li><a href="#classes-and-objects-refresher">Classes and Objects refresher</a></li>
<li><a href="#scope-in-_c_-and-_c_">Scope in <em>C#</em> and <em>C++</em></a></li>
<li><a href="#access-modifiers">Access modifiers</a></li>
<li><a href="#using-functions-to-hide-variables">Using functions to hide variables</a></li>
<li><a href="#access-functions-aka-properties">Access functions aka properties</a></li>
<li><a href="#creating-objects-vs-componentsmonobehaviours">Creating Objects vs Components/Monobehaviours</a></li>
<li><a href="#constructors-and-destructors">Constructors and destructors</a></li>
</ul>
</li>
<li><a href="#more-detail-on-cohesion">More detail on Cohesion</a><br>
* <a href="#medium-cohesion">Medium Cohesion</a><br>
* <a href="#high-cohesion">High cohesion</a></li>
<li><a href="#about-assignment-1-part-1">About Assignment 1 Part 1</a></li>
<li><a href="#exercises-to-do-before-next-class">Exercises to do before next class</a></li>
<li><a href="#resources">Resources</a></li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="object-oriented-design-principles">Object oriented design principles.</h2>

<blockquote>
<p><strong>Quick definitions:</strong></p>
<ul>
<li>Encapsulation: putting data/code that go together into a capsule (class).
<ul>
<li>Cohesion: When the stuff in that capsule really does belong together</li>
<li>Coupling: when a class reaches too specifically into another can be easily broken by changes in that class.</li>
</ul>
</li>
<li>Abstraction: The outside view of encapsulation. You see the simplest controls: the interface.</li>
</ul>
</blockquote>
<hr>
<h3 class="mume-header" id="what-is-encapsulation">What is encapsulation?</h3>

<p>It&#x2019;s a long word but it&#x2019;s a simple thing we experience every day.</p>
<p><img src="assets/week2/kinder_surprise.jpg" alt="kinder"><br>
<em>capsule: a thing with things inside</em></p>
<p>The objects in our every day life usually <strong>hide the bits we don&#x2019;t need to know about:</strong></p>
<p><img src="assets/week2/shaver_real.jpg" alt="shaver real"><br>
<img src="assets/week2/shaver_patent.jpg" alt="shaver patent"><br>
<em>outside v inside</em></p>
<h4 class="mume-header" id="goldilocks-factor">Goldilocks factor</h4>

<blockquote>
<p>How much to hide? The answer is, as with most design questions: it depends.</p>
</blockquote>
<p>If you only open and read things on your computer, the simple magic mouse is a nice thing. If you play MOBAs, you might live or die by the macro buttons on your razer naga.</p>
<p><img src="assets/week2/mouse_magic.jpg" alt="magicmouse"><br>
<img src="assets/week2/mouse_naga.jpg" alt="naga"></p>
<h2 class="mume-header" id="encapsulation-in-practice">Encapsulation in practice</h2>

<p>Object Oriented design is all about encapsulation, and classes/objects are made for it.</p>
<h3 class="mume-header" id="classes-and-objects-refresher">Classes and Objects refresher</h3>

<p><strong>Classes</strong> are the basic way we bundle up data, say our player data, with the code that acts on it.</p>
<blockquote>
<p>Classes: thing in itself, the definition. The recipe, the blueprint.</p>
</blockquote>
<p>Tower defense tower:<br>
<img src="assets/week2/td_fieldrunners_towers_1.jpg" alt="FieldRunners"><br>
<img src="assets/week2/td_fieldrunners_tower_types_2.jpg" alt="FieldRunners_tower types"><br>
<img src="assets/week2/td_fieldrunners_levels_1.jpg" alt="FieldRunners Levels 1"><br>
<img src="assets/week2/td_fieldrunners_levels_2.jpg" alt="FieldRunners Levels 2"></p>
<p>So a <code>FireballTower</code> might contain things like <code>health</code>, <code>firingRate</code>, <code>shotDamage</code>, <code>FireShot()</code>, <code>TrackTarget(target)</code>, <code>Build()</code>,<code>Collapse()</code>.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"> 
<span class="token class-name">Class</span> FireballTower
<span class="token punctuation">{</span>
    <span class="token comment">// stats</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> health <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> firingRate <span class="token operator">=</span> <span class="token number">0.25</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> shotDamage <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

    <span class="token comment">// Upgrades</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> level <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> function <span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Constructor</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> function <span class="token function">Build</span> <span class="token punctuation">(</span><span class="token keyword">int</span> xLocation<span class="token punctuation">,</span> <span class="token keyword">int</span> yLocation<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// spell casting code</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> function <span class="token function">FireShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// spell casting code</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> function <span class="token function">Track</span> <span class="token punctuation">(</span> <span class="token class-name">Transform</span> target<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Tracking code</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p><strong>Objects</strong> are what we make from classes.</p>
<blockquote>
<p>A unique thing made to the specifications of the class. The dinner made from a recipe.</p>
</blockquote>
<p>The 4 chairs at your dinner table are real objects based on a design. One chair has a slightly softer cushion, one has a ding in the leg, one is mum&#x2019;s favourite. A design can&#x2019;t have these things, it&#x2019;s just specifications.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp">    <span class="token comment">// Create an object/instance of Class FireballTower</span>
    <span class="token class-name">FireballTower</span> fireball1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Ask this object to build itself at a location. </span>
    <span class="token comment">// Already it&apos;s unlike the Class/design because it has a state:</span>
    <span class="token comment">// it&apos;s built, and has a real location on the map. </span>
    <span class="token comment">// When it&apos;s destroyed, it&apos;s gone forever.</span>
    fireball1<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><hr>
<h3 class="mume-header" id="scope-in-_c_-and-_c_">Scope in <em>C#</em> and <em>C++</em></h3>

<p>Scope (simplified) is a way to encapsulate data(variables) to separate areas even inside a class. They&#x2019;re only usable inside the code blocks {} in which they&#x2019;re defined.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp">    <span class="token class-name">Class</span> Missile
    <span class="token punctuation">{</span>
        <span class="token comment">// A value here has class scope. All functions can see it.</span>
        <span class="token comment">// It is also called a &quot;member variable&quot;.</span>
        <span class="token comment">// public/private doesn&apos;t have an effect inside the class.</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> _damage <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> function <span class="token function">SetDamage</span><span class="token punctuation">(</span><span class="token keyword">int</span> newValue <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Assigning newValue, which is a function argument, to localDamage.</span>
            <span class="token comment">// localDamage is defined here (because you see the type &quot;int&quot; before</span>
            <span class="token comment">// the name). localDamage then is only visible to code inside this function.</span>
            <span class="token keyword">int</span> localDamage <span class="token operator">=</span> newValue<span class="token punctuation">;</span>

            <span class="token comment">// Assigning the local variable&apos;s value to the class scoped variable _damage</span>
            _damage <span class="token operator">=</span> localDamage<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> function <span class="token function">LogDamage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>localDamage<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error, variable not defined</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// same error</span>
            Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>_damage<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Logs value of _damage successfully</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</pre><hr>
<h3 class="mume-header" id="access-modifiers">Access modifiers</h3>

<p>&#x2026;are what we&#x2019;ve used so far to allow/bar access to the delicate insides of a class. They&#x2019;re vital, but they&#x2019;re also dumb. Once they&#x2019;re defined they never react to change, like a sign on a gate.</p>
<pre data-role="codeBlock" data-info="c++" class="language-cpp">    <span class="token comment">// public: any class has access</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> health <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

    <span class="token comment">// protected: any class that inherits this one has access</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> _shotDamage <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token comment">// private: Only this class has access</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> _trackingSpeedY <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>

    <span class="token comment">// no modifier: defaults to private</span>
    <span class="token keyword">int</span> _firingRate <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// public const: we can make it public while preventing</span>
    <span class="token comment">// others changing.. but we can&apos;t change it either.</span>
    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token keyword">int</span> MAX_HEALTH <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

</pre><hr>
<h3 class="mume-header" id="using-functions-to-hide-variables">Using functions to hide variables</h3>

<p>Instead of a sign, a function can act more like a security guard: they do the same job but can react to changes and apply conditions.</p>
<blockquote>
<p><strong>In game situation:</strong> You receive a Medallion Of Massive Damage and it attempts to set your damage to 30. You already have 50, so this would be a debuff. Our tower should not drop below 50 shot damage.</p>
</blockquote>
<p>Translated to a <strong>Coding problem:</strong></p>
<ol>
<li>Allow only certain direct changes to shot damage</li>
<li>Can&#x2019;t be lowered for example</li>
<li>Changes aren&#x2019;t always allowed</li>
</ol>
<p>One way is to <strong>all the object suggesting the change to check</strong>:</p>
<ul>
<li>it looks at our shot damage</li>
<li>it checks for permission</li>
<li>it makes the adjustment.</li>
</ul>
<p>Maybe it seems ok for the first weapon, the calling object might be friendly and can be trusted with the logic. But it <strong>becomes a huge mess later</strong>: anything damaging the player has to worry about our health range. It also has to be trusted with important rules we want followed. It&#x2019;s risky and there&#x2019;s a mess of redundant code.</p>
<p><strong>The solution is a private health variable and a public setter function inside our Tower.</strong> We&#x2019;ll need a getter too. Psuedocode:</p>
<pre data-role="codeBlock" data-info class="language-"><code>    Class Tower
    ...
    function SetShotDamage ( amount )
        if amount is more than current damage and changes are currently allowed
            set damage to new amount
        otherwise
            don&apos;t alter damage

    function GetShotDamage ()
        return shot damage
</code></pre><hr>
<h3 class="mume-header" id="access-functions-aka-properties">Access functions aka properties</h3>

<p>It&#x2019;s such a useful and common solution, c# has built in syntax to tidy it up and make errors less likely. These are officially <strong>Properties</strong>&quot;** but <strong>accessor functions</strong> or plain <strong>getters/setters</strong> is fine.</p>
<p>In a new Unity project I created a new script. We don&#x2019;t want this script created as a Component. Instead, browse to the assets folder in the project panel. Right click the space below &#x201C;scenes&#x201D; and select <em>Create -&gt; C# Script</em>. Name it FireballTower.</p>
<p><img src="assets/week2/create_script_assets.png" alt="New c# script"></p>
<p>Double click the script to edit in Visual Studio and type in (don&#x2019;t copy paste) this code:</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token comment">// We don&apos;t need the unity includes    </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FireballTower</span>  <span class="token comment">// and we don&apos;t inherit `MonoBehaviour`</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> _shotDamage <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">bool</span> _damageBuffAllowed <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Empty constructor for now</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// no need to write SetHealth(int value), GetHealth()</span>
    <span class="token comment">// with correct function definitions etc</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> ShotDamage
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _shotDamage<span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">set</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_damageBuffAllowed <span class="token operator">&amp;&amp;</span> <span class="token keyword">value</span> <span class="token operator">&gt;</span> _shotDamage<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                _shotDamage <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token comment">// end class</span>
</pre><p>To <strong>test it</strong>, we now want a script component like last week:</p>
<p>1: Create a sprite<br>
2: Change it to a circle or square, scale it up large enough to see.<br>
3: With it selected, go to the Inspector panel and name it <code>TestSprite</code>. Then click &#x201C;Add Component&#x201D;, type &#x201C;script&#x201D; in the search field and select New Script. Name it <code>TestTheTower</code>.<br>
4: Edit the code to look like this:</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> UnityEngine<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTheTower</span> <span class="token punctuation">:</span> <span class="token class-name">MonoBehaviour</span> <span class="token punctuation">{</span>

    <span class="token comment">// Define a variable of type (aka class) FireballTower:</span>
    <span class="token keyword">private</span> <span class="token class-name">FireballTower</span> _fireballTower<span class="token punctuation">;</span>
    
	<span class="token comment">// Use this for initialization</span>
	<span class="token keyword">void</span> <span class="token function">Start</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
        <span class="token comment">// Create the tower with `new`</span>
        _fireballTower <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FireballTower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Attempting to set it to 30.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Even though it&apos;s a function, we treat ShotDamage like a variable</span>
        _fireballTower<span class="token punctuation">.</span>ShotDamage <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Attempting += 25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// We can use regular math and assignment operators (+=) and increment (++)</span>
        _fireballTower<span class="token punctuation">.</span>ShotDamage <span class="token operator">+=</span> <span class="token number">25</span><span class="token punctuation">;</span>
        Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;_fireballTower ShotDamage = &quot;</span> <span class="token operator">+</span> _fireballTower<span class="token punctuation">.</span>ShotDamage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Update is called once per frame</span>
    <span class="token keyword">void</span> <span class="token function">Update</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre><p>Make sure your Console is visible (not hidden behind the project panel) and <strong>hit the play button</strong>.</p>
<p>Here&#x2019;s <strong>the output.</strong> (Tip: in the Console&#x2019;s top right menu you can change log entry to 1 row to get these shorter log entries.)</p>
<p><img src="assets/week2/fireball_tower_test_output.png" alt="tower test ouput"></p>
<hr>
<h3 class="mume-header" id="creating-objects-vs-componentsmonobehaviours">Creating Objects vs Components/Monobehaviours</h3>

<p><em>THIS SECTION NEEDS DIAGRAMS</em></p>
<p>This is important, and a lot of students missed it last trimester so I&#x2019;ll be drilling it in a bit.</p>
<p>If you make a script that doesn&#x2019;t inherit from anything, it&#x2019;s just a basic c# class. You create basic Objects from them using the <code>new</code> keyword, like <code>Tower trashTower = new Tower();</code>. This is consistent with other object oriented languages, and normal in c#.</p>
<blockquote>
<p>Scripts created in Unity extend Monobehaviour, making them components: they add functionality to other GameObjects. You&#x2019;re going to drag them to or add them in the inspector panel. You don&#x2019;t create them with new, that&#x2019;s already handled by unity.</p>
</blockquote>
<p>If you try to call &#x201C;TowerComponent noobTower = new TowerComponent()&#x201D; it&#x2019;ll work, but it&#x2019;ll throw errors in Unity, which will hurt your marks. It&#x2019;ll hurt them for a good reason, because you&#x2019;re including a bunch of stuff in your object that is totally unused.</p>
<p>If you want to create GameObjects at runtime along with components, rather than relying on what&#x2019;s in the scene, you can do it by instantiating prefabs. We&#x2019;ll talk about that another week.</p>
<h3 class="mume-header" id="constructors-and-destructors">Constructors and destructors</h3>

<p>The knowledge required to properly set up an object, and to finish it off and clean up its data requires a lot of knowledge of its internals. We&#x2019;re trying to hide that stuff, so the Class defines a <strong>constructor function</strong> and <strong>destructor function.</strong> The <em>C#</em> specification uses &#x201C;finalizer&#x201D; and &#x201C;destructor&#x201D; interchangeably.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Tower
<span class="token punctuation">{</span>
    <span class="token comment">// A public function with the Class&apos;s name is the constructor.</span>
    <span class="token comment">// An invisible, automatic one will be created if you don&apos;t define it.</span>
    <span class="token keyword">public</span> <span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Setup goes here.</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The leading ~ (tilda) symbol makes this the destructor.</span>
    <span class="token comment">// Destructors cannot be called, inherited or overriden. </span>
    <span class="token comment">// The have no access modifier, which makes them private by default.</span>
    <span class="token operator">~</span><span class="token function">Tower</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Tidy up before disappearing.</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre><hr>
<h2 class="mume-header" id="more-detail-on-cohesion">More detail on Cohesion</h2>

<p>Ideas of what belongs in a class, how big a class should be, that&#x2019;s not set in stone. At home you&#x2019;ll get a feel for it based on projects and experience. At an organised workplace it&#x2019;ll be somewhat defined by coding standards/team lead/existing project code.</p>
<p>We&#x2019;ll get into that more in Design Patterns. For now, it&#x2019;s really just a measure of how much your code/data belongs where you&#x2019;ve put it.</p>
<h4 class="mume-header" id="medium-cohesion">Medium Cohesion</h4>

<p>A tower looks for targets, so it&#x2019;s fair to have targeting here.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Tower
<span class="token punctuation">{</span>
    List<span class="token operator">&lt;</span>Player<span class="token operator">&gt;</span> potentialTargets<span class="token punctuation">;</span>

    function <span class="token function">AquireTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    function <span class="token function">TrackTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    function <span class="token function">FireAtTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="mume-header" id="high-cohesion">High cohesion</h4>

<p>&#x2026;might look like the following: a targeter that acquires and<br>
tracks targets. It&#x2019;s more specific, and leaves out firing.</p>
<pre data-role="codeBlock" data-info="cs" class="language-csharp"><span class="token class-name">Class</span> Targeter <span class="token punctuation">:</span> <span class="token keyword">public</span> Monobehaviour
<span class="token punctuation">{</span>
    List<span class="token operator">&lt;</span>Trackable<span class="token operator">&gt;</span> potentialTargets<span class="token punctuation">;</span>

    function <span class="token function">FindClosestTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    function <span class="token function">FindRandomTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    function <span class="token function">GetCurrentTargetVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>If wanted to use <strong>inheritance</strong>, our Enemy could inherit from Targer. Another approach is <strong>composition</strong>: the Targeter is a component we add to our Tower. We&#x2019;ll keep coming back to inheritance and composition.</p>
<hr>
<h2 class="mume-header" id="about-assignment-1-part-1">About Assignment 1 Part 1</h2>

<p>The exercise: <a href="assess1_ex1.html">assess1_ex1.html</a></p>
<hr>
<h2 class="mume-header" id="exercises-to-do-before-next-class">Exercises to do before next class</h2>

<ol>
<li>
<p>Assessment progression - Player Class Exercise.</p>
<ul>
<li><a href="assess1_ex1.html">assess1_ex1.html</a></li>
</ul>
</li>
<li>
<p>conditionals etc up to objects in sololearn.</p>
</li>
</ol>
<hr>
<h2 class="mume-header" id="resources">Resources</h2>

<ol>
<li>Finalizers/destructors in <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/destructors">Microsoft&#x2019;s c# documentation</a></li>
<li>Constructors in <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-constructors">Microsoft&#x2019;s docs</a></li>
<li>Creating Properties video in <a href="https://unity3d.com/learn/tutorials/topics/scripting/properties?playlist=17117">official Unity tutorials</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties">Using Properties</a> and <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties">all their syntax</a> in the Microsoft docs.</li>
</ol>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>